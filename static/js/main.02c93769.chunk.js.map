{"version":3,"sources":["Constants.js","Machines/HomeStates.js","Machines/SectionsStates.js","Machines/App.js","Machines/index.js","Machines/Release.js","Contexts/App.js","Hoc/App.js","Sections/Releases/Nav/index.js","Sections/Releases/index.js","Hoc/Release.js","Hoc/index.js","Components/Image/index.js","Components/Spinner/index.js","Components/index.js","Utils/Paths.js","Utils/StoryTrigger.js","Utils/ImgTracker.js","Utils/ImgPrefetch.js","Utils/Machines.js","Utils/Fonts.js","Utils/index.js","Sections/Home/Bkgd/home-bkgd.jpg","Contexts/Video.js","Layout/Debug.js","registerServiceWorker.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","MEDIA_QUERIES_LIST","MEDIA_QUERIES_BY_MATCH","RELEASE_IDLE_TIMEOUT","STORY_TRIGGER_THROTTLE","STORY_TRIGGER_EVENTS","APP_FONTS_LIST","APP_FONTS_TIMEOUT","APP_IMAGES_ONLOAD","match","device","orientation","reduce","prev","_ref","outer","outerStyle","scrollbarWidth","document","createElement","style","position","width","height","overflow","top","body","appendChild","offsetWidth","clientWidth","removeChild","RELEASES_COVERS","Object","keys","album","title","split","ep","map","id","concat","VIDEOS_THUMBS","nevers","videoId","description","rouge","name","weight","homeStates","type","states","hero","initial","unknown","on","","target","cond","ctx","contextMatch","idle","NEXT","entering","HERO.NEXT","mounted","onEntry","SECTION.NAVIGATE","doesCondMatches","actions","releases_in","send","releases_out","videos_in","videos_out","bkgd","CONTEXT.UPDATED","section","previous","context","next","current","playVideo","_ref2","pauseVideo","getSectionStates","activities","SECTION.NAVIGATE.ID","leaving","videos","_merge","shows","releases","pending","init","after","defineProperty","RELEASE.PENDING","RELEASE.STORY","story","appMachine","Machine","loadind","invoke","src","onDone","onError","ready","home","fatal","SET.CONTEXT","setContext","assign","_ref$context","setNextToCurrentSection","setCurrentToPreviousSection","clearSectionContext","e","setSectionId","services","loadAppAssets","_loadAppAssets","asyncToGenerator","regenerator_default","a","mark","_callee","image","images","fonts","loaded","wrap","_context","ImgPrefetch","ImgBkgd","catch","sent","ImgsPrefetch","ObserveFontsLoading","abrupt","Promise","stop","this","_x","apply","arguments","guards","canPlayHomeVideo","_ref2$section","indexOf","canMountHomeVideo","_ref3","_ref3$section","release","undefined","assets","isLoaded","isLeaving","isCurrent","isPrevious","RELEASE.NEXT","_","_ref4","_ref5","unmounted","onExit","loading","animate","background","event","objectSpread","resetContext","_ref6","fetchAssets","_fetchAssets","resolve","delay","MachineInterpret","classCallCheck","_service","_started","config","Error","interpret","AppMachine","withContext","withConfig","initialState","get","start","o","defaultViewport","setCurrentMediaQueries","mq","_Users_michaellefebvre_www_m_sixteen_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","media","getViewport","getInitialContext","props","length","merge","initialContext","getRouteSection","getRouteId","q","window","matchMedia","matches","AppContext","React","createContext","Provider","App","Consumer","state","machine","pathname","_this","location","_escActive","service","waitingForStoryTrigger","_setWaitingForStoryTrigger","listenEscKey","_setListenEscKey","onTransition","handleOnTransition","_send","evt","_setServiceContext","_sectionNavigate","_getRouteParams","getRouteParams","_getRouteParams$secti","_getRouteParams$id","_this$state$machine$c","currentSection","currentId","StoryTrigger","handleOnStoryTrigger","handleOnMediaQuery","handleOnResize","changed","setState","_id","console","error","handleOnKeydown","keyCode","history","push","_this2","addEventListener","passive","forEach","addListener","devTools","removeEventListener","prevProps","prevState","snapshot","react__WEBPACK_IMPORTED_MODULE_6___default","value","children","nextProps","Component","withRouter","withApp","mapContextToProps","v","WrappedComponent","AppHoc","_PureComponent","_getPrototypeOf2","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","getStateByPath","path","_get","getValue","getStrings","toStrings","getNextEvents","nextEvents","getContext","stateMatches","isReady","hasVideoHeader","getDevice","isDevice","isDesktop","isTablet","isMobile","isLandscape","bkgdCanPlay","_this$getContext$sect","getHelpers","hanleOnSend","hanleOnNext","inherits","createClass","key","react_default","onNext","onSend","PureComponent","contextType","displayName","getComponentName","hoistStatics","NavState","Keyframes","Spring","nW","cbT","_NAV_LINK_HEIGHT","clT","_NAV_CLOSE_Y","mbO","_mounted","from","expend","_expend","_callee2","_context2","_x2","unexpend","_unexpend","_callee3","_context3","_x3","ReleasesNav","coversState","handleOnMouseEnter","isIdle","handleOnMouseLeave","_this$props","isMounted","native","className","web","div","transform","interpolate","p","Link","to","onMouseLeave","onMouseEnter","item","NavLink","activeClassName","getNavImgSrc","alt","onClick","opacity","Album","lazy","then","bind","Split","Ep","ReleasesScrollInvite","show","classNames","release__scroll-invite--show","ReleasesLoading","Components","theme","getReleaseStage","isActive","scrollInvite","_classNames","_ref2$id","layer--active","Releases_Nav","Releases_ReleasesScrollInvite","react","fallback","withRelease","_ref$assets","ReleaseHoc","assetsLoaded","assetsLoading","_loadAssets","handleOnLoadAssets","handleOnMounted","handleOnNext","onMounted","Releases_ReleasesLoading","_context$context","_context$context$id","previousId","Hoc_App","Release","Image","_imgRef","createRef","_getImgPath","extension","format","getPhotoUrl","_getRest","_this$props2","objectWithoutProperties","handleOnVisible","ImgTracker","unobserve","r","log","observe","ref","defaultProps","Spinner","f","b","viewBox","xmlns","strokeWidth","fill","fillRule","stroke","cx","cy","strokeLinecap","Image_Image","src_Components_Spinner","getStaticUrl","relativePath","process","inst","_bindEvents","_eventsBound","_handleEvent","capture","_unbindEvents","_releaseId","_callback","throttle","msg","elt","callback","Observer","observedImages","set","delete","Map","IntersectionObserver","entries","entry","intersectionRatio","rootMargin","threshold","_LOADED_IMGS","inStatic","reject","has","onerror","onload","paths","all","obj","str","_str$split","_str$split2","slicedToArray","c1","c2","observers","font","FontFaceObserver","load","AnimatedDiv","Utils_getImageUrl","Utils_getPhotoUrl","roundToEven","Utils_getNavImgSrc","Utils_StoryTrigger","ImgTracker_ImgTracker","ImgPrefetch_ImgPrefetch","Machines_contextMatch","Fonts_ObserveFontsLoading","animated","Globals","defaultElement","defaultRouteProps","params","getImageUrl","_document$body$getBou","getBoundingClientRect","n","Math","round","module","exports","VideoContext","playerState","playerReady","LayoutDebug","i","paddingLeft","JSON","stringify","HelloSection","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","MainRoute","Contexts_App","Debug","ReactDOM","render","BrowserRouter","basename","Route","component","getElementById","URL","origin","fetch","response","status","headers","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.02c93769.chunk.js","sourcesContent":["//\n// Break Points\n// --------------------------------------------------\n\nexport const MEDIA_QUERIES_LIST = [\n  {\n    match: '(min-width: 1281px)',\n    device: 'desktop',\n    orientation: null\n  },\n  {\n    match: '(max-width: 1280px) and (min-width: 1025px)',\n    device: 'laptop',\n    orientation: null\n  },\n  {\n    match: '(max-width: 1024px) and (min-width: 768px)',\n    device: 'tablet',\n    orientation: 'portrait'\n  },\n  {\n    match:\n      '(max-width: 1024px) and (min-width: 768px) and (orientation: landscape)',\n    device: 'tablet',\n    orientation: 'landscape'\n  },\n  {\n    match: '(max-width: 767px) and (min-width: 481px)',\n    device: 'mobile',\n    orientation: 'landscape'\n  },\n  {\n    match: '(max-width: 480px) and (min-width: 320px)',\n    device: 'mobile',\n    orientation: 'portrait'\n  }\n];\n\nexport const MEDIA_QUERIES_BY_MATCH = MEDIA_QUERIES_LIST.reduce(\n  (prev, { match, device, orientation }) => {\n    prev[match] = { device, orientation };\n    return prev;\n  },\n  {}\n);\n\n//\n// Break Points\n// --------------------------------------------------\n\nexport const SCROLLBAR_WIDTH = (function() {\n  var outer, outerStyle, scrollbarWidth;\n  if (!document) return 0;\n  outer = document.createElement('div');\n  outerStyle = outer.style;\n  outerStyle.position = 'absolute';\n  outerStyle.width = '100px';\n  outerStyle.height = '100px';\n  outerStyle.overflow = 'scroll';\n  outerStyle.top = '-9999px';\n  if (document.body !== null) document.body.appendChild(outer);\n  scrollbarWidth = outer.offsetWidth - outer.clientWidth;\n  if (document.body !== null) document.body.removeChild(outer);\n  return scrollbarWidth;\n})();\n\n//\n// Idle\n// --------------------------------------------------\n\nexport const RELEASE_IDLE_TIMEOUT = 1000 * 3;\nexport const STORY_TRIGGER_THROTTLE = 500;\nexport const STORY_TRIGGER_EVENTS = [\n  // 'mousemove',\n  'wheel',\n  'DOMMouseScroll',\n  'mouseWheel',\n  // 'mousedown',\n  'touchstart',\n  'touchmove',\n  'MSPointerDown',\n  'MSPointerMove'\n];\n\n//\n// RELEASES\n// --------------------------------------------------\n\nexport const RELEASES = {\n  album: {\n    title: 'Album'\n  },\n  split: {\n    title: 'Split w/ the Missing 23rd'\n  },\n  ep: {\n    title: 'Debut EP'\n  }\n};\nexport const RELEASES_ID = Object.keys(RELEASES);\nexport const RELEASES_COVERS = RELEASES_ID.map(id => `covers/${id}.jpg`);\n\n//\n// VIDEOS\n// --------------------------------------------------\n\nexport const VIDEOS = {\n  nevers: {\n    videoId: 'PhDboaR01zY',\n    title: 'Live at Nevers, FR',\n    description: 'Nov. 16 2007, Le café charbon'\n  },\n  rouge: {\n    videoId: 'Fj8WOeQamvw',\n    title: 'Rouge',\n    description: 'music video'\n  }\n};\n\nexport const VIDEOS_ID = Object.keys(VIDEOS);\nexport const VIDEOS_THUMBS = VIDEOS_ID.map(id => `videos/${id}-md.jpg`);\n\n//\n// App Loading\n// --------------------------------------------------\n\nexport const APP_FONTS_LIST = [\n  { name: 'Open Sans', weight: 400 },\n  { name: 'Open Sans', weight: 700 },\n  { name: 'Open Sans', weight: 800 },\n  // { name: 'Open_Sans', weight: 900 },\n  { name: 'Rubik', weight: 500 },\n  { name: 'IM Fell English' },\n  { name: 'Zilla Slab' }\n];\nexport const APP_FONTS_TIMEOUT = 5000;\nexport const APP_IMAGES_ONLOAD = RELEASES_COVERS.concat(VIDEOS_THUMBS);\n\nexport const HOME_BKGD_VIDEOID = 'Pdni_p27l_0';\n","import { send } from 'xstate';\nimport { contextMatch, doesCondMatches } from 'Utils';\n\nconst homeStates = {\n  type: 'parallel',\n  states: {\n    hero: {\n      initial: 'unknown',\n      states: {\n        unknown: {\n          on: {\n            '': [\n              {\n                target: 'entering',\n                cond: ctx => contextMatch(ctx, 'section.current:home')\n              },\n              { target: 'idle' }\n            ]\n          }\n        },\n        idle: {\n          on: {\n            NEXT: {\n              target: 'entering',\n              cond: ctx => contextMatch(ctx, 'section.current:home')\n            }\n          }\n        },\n        entering: {\n          on: {\n            'HERO.NEXT': 'mounted'\n          }\n        },\n        mounted: {\n          onEntry: 'clearSectionContext',\n          on: {\n            'SECTION.NAVIGATE': [\n              {\n                target: 'videos_in',\n                cond: doesCondMatches(\n                  'section.current:home',\n                  'context.section.next:videos'\n                ),\n                actions: 'setContext'\n              },\n              {\n                target: 'releases_in',\n                cond: doesCondMatches(\n                  'section.current:home',\n                  'context.section.next:releases'\n                ),\n                actions: 'setContext'\n              }\n            ]\n          }\n        },\n        releases_in: {\n          onEntry: 'setCurrentToPreviousSection',\n          on: {\n            NEXT: [\n              {\n                actions: ['setNextToCurrentSection', send('NEXT')],\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:home') &&\n                  contextMatch(ctx, 'section.next:releases')\n              },\n              {\n                target: 'releases_out',\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:releases') &&\n                  contextMatch(ctx, 'section.current:home')\n              }\n            ]\n          }\n        },\n        releases_out: {\n          on: {\n            'HERO.NEXT': 'mounted'\n          }\n        },\n        videos_in: {\n          onEntry: 'setCurrentToPreviousSection',\n          on: {\n            NEXT: [\n              {\n                actions: ['setNextToCurrentSection', send('NEXT')],\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:home') &&\n                  contextMatch(ctx, 'section.next:videos')\n              },\n              {\n                target: 'videos_out',\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:videos') &&\n                  contextMatch(ctx, 'section.current:home')\n              }\n            ]\n          }\n        },\n        videos_out: {\n          on: {\n            'HERO.NEXT': 'mounted'\n          }\n        }\n      }\n    },\n    bkgd: {\n      initial: 'unknown',\n      on: {\n        'CONTEXT.UPDATED': '.unknown'\n      },\n      states: {\n        unknown: {\n          on: {\n            '': [\n              { target: 'playVideo', cond: 'canPlayHomeVideo' },\n              { target: 'mounted', cond: 'canMountHomeVideo' },\n              { target: 'idle' }\n            ]\n          }\n        },\n        idle: {\n          on: {\n            NEXT: {\n              target: 'unknown',\n              cond: ctx => contextMatch(ctx, 'section.current:home')\n            }\n          }\n        },\n        mounted: {\n          on: {\n            NEXT: {\n              target: 'unknown',\n              cond: ctx =>\n                contextMatch(ctx, 'section.current:home') &&\n                ctx.section.previous !== null\n            },\n            'SECTION.NAVIGATE': {\n              target: 'unknown',\n              cond: (ctx, { context }) =>\n                context &&\n                context.section.next !== null &&\n                ctx.section.current === 'home'\n            }\n          }\n        },\n        playVideo: {\n          on: {\n            'SECTION.NAVIGATE': {\n              target: 'pauseVideo',\n              cond: (ctx, { context }) =>\n                context &&\n                context.section.next !== null &&\n                ctx.section.current === 'home'\n            }\n          }\n        },\n        pauseVideo: {\n          on: {\n            NEXT: {\n              target: 'unknown',\n              cond: ctx =>\n                contextMatch(ctx, 'section.current:home') &&\n                ctx.section.previous !== null\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nexport default homeStates;\n","import { send } from 'xstate';\nimport _merge from 'lodash.merge';\nimport { contextMatch } from 'Utils';\nimport { RELEASE_IDLE_TIMEOUT } from 'Constants';\n\nconst getSectionStates = section => ({\n  initial: 'unknown',\n  states: {\n    unknown: {\n      on: {\n        '': [\n          {\n            target: 'entering',\n            cond: ctx => contextMatch(ctx, `section.current:${section}`)\n          },\n          { target: 'idle' }\n        ]\n      }\n    },\n    idle: {\n      on: {\n        NEXT: {\n          target: 'entering',\n          cond: ctx => contextMatch(ctx, `section.current:${section}`)\n        }\n      }\n    },\n    entering: {\n      on: {\n        NEXT: {\n          target: 'mounted',\n          cond: ctx => contextMatch(ctx, `section.current:${section}`)\n        }\n      }\n    },\n    mounted: {\n      activities: ['listenEscKey'],\n      onEntry: 'clearSectionContext',\n      on: {\n        'SECTION.NAVIGATE': {\n          target: 'leaving',\n          cond: ctx => contextMatch(ctx, `section.current:${section}`),\n          actions: 'setContext'\n        },\n        'SECTION.NAVIGATE.ID': {\n          cond: ctx => contextMatch(ctx, `section.current:${section}`),\n          actions: ['setSectionId', send('CONTEXT.UPDATED')]\n        }\n      }\n    },\n    leaving: {\n      onEntry: 'setCurrentToPreviousSection',\n      on: {\n        NEXT: {\n          target: 'idle',\n          actions: ['setNextToCurrentSection', send('NEXT')],\n          cond: ctx =>\n            contextMatch(ctx, `section.previous:${section}`) &&\n            contextMatch(ctx, 'section.next:home')\n        }\n      }\n    }\n  }\n});\n\nexport const videos = _merge({}, getSectionStates('videos'));\nexport const shows = _merge({}, getSectionStates('shows'));\n\nexport const releases = _merge({}, getSectionStates('releases'), {\n  states: {\n    mounted: {\n      on: {\n        'SECTION.NAVIGATE.ID': {\n          target: 'entering'\n        }\n      },\n      initial: 'pending',\n      states: {\n        pending: {\n          initial: 'init',\n          states: {\n            init: {\n              after: {\n                [RELEASE_IDLE_TIMEOUT]: 'idle'\n              }\n            },\n            idle: {\n              on: {\n                'RELEASE.PENDING': 'init'\n              }\n            }\n          },\n          on: {\n            'RELEASE.STORY': 'story'\n          },\n          activities: ['waitingForStoryTrigger']\n        },\n        story: {\n          type: 'final'\n        }\n      }\n    }\n  }\n});\n","import { Machine, assign, send } from 'xstate';\nimport _merge from 'lodash.merge';\nimport { ObserveFontsLoading, ImgPrefetch, ImgsPrefetch } from 'Utils';\n// import { actionLog } from 'Utils'\nimport home from './HomeStates';\nimport { releases, videos, shows } from './SectionsStates';\nimport ImgBkgd from 'Sections/Home/Bkgd/home-bkgd.jpg';\nimport { APP_IMAGES_ONLOAD } from 'Constants';\n\nconst appMachine = Machine(\n  {\n    id: 'app',\n    context: {\n      section: {\n        current: 'home',\n        previous: null,\n        next: null\n      },\n      id: {\n        current: null,\n        previous: null,\n        next: null\n      },\n      width: 0,\n      height: 0,\n      device: null,\n      orientation: null\n    },\n    initial: 'loadind',\n    states: {\n      unknown: {},\n      loadind: {\n        invoke: {\n          src: 'loadAppAssets',\n          onDone: {\n            target: 'ready'\n          },\n          onError: {\n            target: 'fatal'\n          }\n        }\n      },\n      ready: {\n        type: 'parallel',\n        states: {\n          home,\n          releases,\n          videos,\n          shows\n        }\n      },\n      fatal: {\n        type: 'final'\n      }\n    },\n    on: {\n      'SET.CONTEXT': {\n        actions: ['setContext', send('CONTEXT.UPDATED')]\n      }\n    }\n  },\n  {\n    actions: {\n      setContext: assign((ctx, { context = {} }) => _merge({}, ctx, context)),\n      setNextToCurrentSection: assign(ctx =>\n        _merge({}, ctx, {\n          section: {\n            current: ctx.section.next,\n            next: null\n          },\n          id: {\n            current: ctx.id.next,\n            next: null\n          }\n        })\n      ),\n      setCurrentToPreviousSection: assign(ctx =>\n        _merge({}, ctx, {\n          section: {\n            previous: ctx.section.current,\n            current: null\n          },\n          id: {\n            previous: ctx.id.current,\n            current: null\n          }\n        })\n      ),\n      clearSectionContext: assign((ctx, e) =>\n        _merge({}, ctx, {\n          section: {\n            previous: null,\n            current: ctx.section.current,\n            next: null\n          },\n          id: {\n            previous: null,\n            current: ctx.id.current,\n            next: null\n          }\n        })\n      ),\n      setSectionId: assign((ctx, e) =>\n        _merge({}, ctx, {\n          id: {\n            previous: ctx.id.current,\n            current: e.id,\n            next: null\n          }\n        })\n      )\n    },\n    services: {\n      loadAppAssets: async context => {\n        const image = await ImgPrefetch(ImgBkgd, true).catch(e => false);\n        const images = await ImgsPrefetch(APP_IMAGES_ONLOAD).catch(e => false);\n        const fonts = await ObserveFontsLoading().catch(e => false);\n        const loaded = !!image && !!images && !!fonts;\n        return Promise[loaded ? 'resolve' : 'reject'](true);\n      }\n    },\n    guards: {\n      canPlayHomeVideo: ({ device, section: { current, next } }) =>\n        ['desktop', 'laptop'].indexOf(device) !== -1 &&\n        current === 'home' &&\n        next === null,\n      canMountHomeVideo: ({ section: { current, next } }) => current === 'home'\n      // && next === null\n    }\n  }\n);\n\nexport default appMachine;\n","import { interpret } from 'xstate';\nimport AppMachine from './App';\n\nexport { default as AppMachine } from './App';\nexport { default as ReleaseMachine } from './Release';\n\nclass MachineInterpret {\n  constructor() {\n    this._service = null;\n    this._started = false;\n\n    return this;\n  }\n\n  init(context, config) {\n    if (this._service !== null) throw new Error('Service already init');\n\n    this._service = interpret(\n      AppMachine.withContext(context).withConfig(config)\n    );\n\n    return this;\n  }\n\n  initialState() {\n    return AppMachine.initialState;\n  }\n\n  initialContext() {\n    return AppMachine.context;\n  }\n\n  get() {\n    if (this._service === null) throw new Error('No service init');\n\n    return this._service;\n  }\n\n  start() {\n    if (this._started) throw new Error('Service already started');\n\n    this.get().start();\n\n    this._started = true;\n  }\n\n  stop() {\n    if (!this._started) throw new Error('Service not started');\n\n    this.get().stop();\n\n    this._started = false;\n  }\n\n  send(o) {\n    return this.get().send(o);\n  }\n}\n\nconst Machine = new MachineInterpret();\n\nexport default Machine;\n","import { Machine, assign /*, send, sendParent, interpret*/ } from 'xstate';\nimport delay from 'delay';\nimport { RELEASE_IDLE_TIMEOUT } from 'Constants';\n\nconst getInitialContext = () => ({\n  release: undefined,\n  assets: null,\n  isLoaded: false,\n  isLeaving: false,\n  isCurrent: false,\n  isPrevious: false\n});\n\nconst ReleaseMachine = Machine(\n  {\n    id: 'Release',\n    initial: 'unknown',\n    context: getInitialContext(),\n    on: {\n      'RELEASE.NEXT': [\n        {\n          target: 'unmounted',\n          cond: (_, { context }) =>\n            !context.isCurrent && !context.isPrevious && !context.isLeaving\n        },\n        {\n          target: 'loading',\n          cond: (_, { context }) =>\n            context.isCurrent && (!_.isLoaded && !_.isCurrent)\n        },\n        {\n          target: 'entering',\n          cond: (_, { context }) =>\n            context.isCurrent && (_.isLoaded && !_.isCurrent)\n        },\n        {\n          target: 'mounted',\n          cond: (_, { context }) => context.isCurrent && _.isCurrent\n        },\n        {\n          target: 'leaving',\n          cond: (_, { context }) => !context.isCurrent && _.isCurrent\n        }\n      ]\n    },\n    states: {\n      unknown: {\n        on: {\n          '': [\n            { target: 'loading', cond: ctx => ctx.isCurrent && !ctx.isLoaded },\n            { target: 'entering', cond: ctx => ctx.isCurrent && ctx.isLoaded },\n            { target: 'unmounted' }\n          ]\n        }\n      },\n      unmounted: {\n        invoke: {\n          id: 'RELEASE.UNMOUNTED',\n          src: 'clearPrevious'\n        },\n        onExit: 'setContext'\n      },\n      loading: {\n        invoke: {\n          src: 'fetchAssets',\n          onDone: {\n            target: 'unknown',\n            actions: assign({ isLoaded: true })\n          },\n          onError: {\n            target: 'fatal'\n          }\n        }\n      },\n      fatal: {\n        type: 'final'\n      },\n      entering: {\n        onExit: 'setContext'\n      },\n      mounted: {\n        initial: 'pending',\n        states: {\n          pending: {\n            initial: 'init',\n            states: {\n              init: {\n                after: {\n                  [RELEASE_IDLE_TIMEOUT]: 'idle'\n                }\n              },\n              idle: {\n                on: {\n                  'RELEASE.PENDING': 'init'\n                }\n              }\n            },\n            on: {\n              'RELEASE.STORY': 'story'\n            },\n            activities: ['waitForAction']\n          },\n          story: {}\n        },\n        invoke: {\n          id: 'RELEASE.MOUNTED',\n          src: 'clearPrevious'\n        },\n        onExit: 'setContext'\n      },\n      leaving: {\n        initial: 'unknown',\n        states: {\n          unknown: {\n            on: {\n              '': [\n                { target: 'animate', cond: ctx => ctx.isLeaving },\n                { target: 'background' }\n              ]\n            }\n          },\n          animate: {},\n          background: {}\n        },\n        onExit: 'resetContext'\n      }\n    }\n  },\n  {\n    actions: {\n      setContext: assign((ctx, event) => ({ ...event.context })),\n      resetContext: assign(({ release, isLoaded, assets }) => ({\n        ...getInitialContext(),\n        release,\n        isLoaded,\n        assets\n      }))\n    },\n    services: {\n      fetchAssets: async context => {\n        if (context.assets === null) return Promise.resolve(true);\n\n        await delay(500);\n        return Promise.resolve(true);\n        // return Promise.reject(true)\n      }\n    }\n  }\n);\n\nexport default ReleaseMachine;\n","import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport merge from 'lodash.merge';\nimport Machine from 'Machines';\nimport {\n  getViewport,\n  getRouteSection,\n  getRouteId,\n  getRouteParams,\n  StoryTrigger\n} from 'Utils';\nimport { MEDIA_QUERIES_LIST, MEDIA_QUERIES_BY_MATCH } from 'Constants';\n\nconst defaultViewport = {\n  width: 0,\n  height: 0,\n  device: null,\n  orientation: null\n};\n\nconst setCurrentMediaQueries = mq => ({\n  ...MEDIA_QUERIES_BY_MATCH[mq.media],\n  ...getViewport()\n});\n\nconst getInitialViewPort = () =>\n  MEDIA_QUERIES_LIST.reduce((a, mq) => {\n    const q = window.matchMedia(mq.match);\n    if (q.matches) a = setCurrentMediaQueries(q);\n    return a;\n  }, defaultViewport);\n\nconst getInitialContext = (props = null) =>\n  merge({}, Machine.initialContext(), {\n    section: {\n      current: getRouteSection(props)\n    },\n    id: {\n      current: getRouteId(props)\n    },\n    ...getInitialViewPort()\n  });\n\nexport const AppContext = React.createContext(getInitialContext());\n\nexport const { Provider, Consumer } = AppContext;\n\nclass App extends Component {\n  state = {\n    machine: Machine.initialState(),\n    pathname: this.props.location.pathname\n  };\n\n  _escActive = false;\n\n  service = Machine.init(getInitialContext(this.props), {\n    activities: {\n      waitingForStoryTrigger: ctx => this._setWaitingForStoryTrigger(ctx),\n      listenEscKey: ctx => this._setListenEscKey()\n    }\n  })\n    .get()\n    .onTransition(current => this.handleOnTransition(current));\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      location: { pathname }\n    } = nextProps;\n\n    if (pathname !== prevState.pathname)\n      return {\n        pathname\n      };\n\n    return null;\n  }\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleOnResize, { passive: true });\n    window.addEventListener('keydown', this.handleOnKeydown);\n\n    MEDIA_QUERIES_LIST.forEach(mq => {\n      const q = window.matchMedia(mq.match);\n      q.addListener(this.handleOnMediaQuery);\n    });\n\n    this.service.start();\n    this.service.devTools.init(this.state.machine);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleOnResize);\n\n    this.service.stop();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    return prevState.pathname !== this.props.location.pathname;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (snapshot) this._sectionNavigate();\n  }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  _send = evt => {\n    this.service.send(evt);\n  };\n\n  _setServiceContext = (context = {}) =>\n    this._send({ type: 'SET.CONTEXT', context });\n\n  _sectionNavigate = () => {\n    const { section = 'home', id = null } = getRouteParams(this.props);\n    const {\n      section: { current: currentSection },\n      id: { current: currentId }\n    } = this.state.machine.context;\n\n    if (currentSection !== section)\n      return this._send({\n        type: 'SECTION.NAVIGATE',\n        context: {\n          section: {\n            next: section\n          },\n          id: {\n            next: id\n          }\n        }\n      });\n\n    if (currentId !== id)\n      return this._send({ type: 'SECTION.NAVIGATE.ID', id });\n  };\n\n  _setWaitingForStoryTrigger = ctx => {\n    StoryTrigger.start(ctx.id.current, this.handleOnStoryTrigger);\n    return () => StoryTrigger.stop();\n  };\n\n  _setListenEscKey = ctx => {\n    this._escActive = true;\n    return () => (this._escActive = false);\n  };\n\n  //\n  // Events Handlers\n  // --------------------------------------------------\n\n  handleOnMediaQuery = mq => {\n    if (mq.matches) this._setServiceContext(setCurrentMediaQueries(mq));\n  };\n\n  handleOnResize = () => {\n    this._setServiceContext(getViewport());\n  };\n\n  handleOnTransition = machine => {\n    if (!machine.changed) return;\n    this.setState({ machine });\n  };\n\n  handleOnStoryTrigger = _id => {\n    const {\n      context: {\n        id: { current }\n      }\n    } = this.state.machine;\n    if (_id !== current) {\n      console.error('handleOnStoryTrigger wrong release', { current, _id });\n      return;\n    }\n    this._send('RELEASE.STORY');\n  };\n\n  handleOnKeydown = ({ keyCode }) => {\n    if (this._escActive && keyCode === 27) this.props.history.push('/');\n  };\n\n  //\n  // Renderers\n  // --------------------------------------------------\n\n  render() {\n    return (\n      <Provider value={this.state.machine}>{this.props.children}</Provider>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React, { PureComponent } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport _get from 'lodash.get';\nimport { AppContext } from 'Contexts/App';\nimport Machine from 'Machines';\nimport { getComponentName } from 'Utils';\n\nconst withApp = (mapContextToProps = v => v) => WrappedComponent => {\n  class AppHoc extends PureComponent {\n    static contextType = AppContext;\n\n    //\n    // Helpers\n    // --------------------------------------------------\n\n    getStateByPath = path => _get(this.context.value, path);\n\n    getValue = () => this.context.value;\n\n    getStrings = () => this.context.toStrings();\n\n    getNextEvents = () => this.context.nextEvents;\n\n    getContext = () => this.context.context;\n\n    stateMatches = state => this.context.matches(state);\n\n    isReady = () => this.context.matches('ready');\n\n    hasVideoHeader = () =>\n      ['desktop', 'laptop'].indexOf(this.getDevice()) !== -1;\n\n    getDevice = () => this.getContext().device;\n\n    isDevice = device => this.getDevice() === device;\n\n    isDesktop = () => this.isDevice('desktop');\n\n    isTablet = () => this.isDevice('tablet');\n\n    isMobile = () => this.isDevice('mobild');\n\n    isLandscape = () => this.getContext().orientation === 'landscape';\n\n    bkgdCanPlay = () => {\n      const { current, previous, next } = this.getContext().section;\n      return (\n        this.hasVideoHeader() &&\n        current === 'home' &&\n        previous === null &&\n        next === null\n      );\n    };\n\n    getHelpers = () => ({\n      getStateByPath: this.getStateByPath,\n      getStrings: this.getStrings,\n      getValue: this.getValue,\n      getNextEvents: this.getNextEvents,\n      getContext: this.getContext,\n      stateMatches: this.stateMatches,\n      isReady: this.isReady,\n      hasVideoHeader: this.hasVideoHeader,\n      bkgdCanPlay: this.bkgdCanPlay,\n      isDesktop: this.isDesktop,\n      isTablet: this.isTablet,\n      isMobile: this.isMobile,\n      isLandscape: this.isLandscape\n    });\n\n    //\n    // Events Handlers\n    // --------------------------------------------------\n\n    hanleOnSend = evt => Machine.send(evt);\n\n    hanleOnNext = () => this.hanleOnSend('NEXT');\n\n    // Renderers\n    // --------------------------------------------------\n\n    render() {\n      const { props } = this;\n\n      return (\n        <WrappedComponent\n          {...mapContextToProps(this.context, props)}\n          {...props}\n          {...this.getHelpers()}\n          onNext={this.hanleOnNext}\n          onSend={this.hanleOnSend}\n        />\n      );\n    }\n  }\n\n  AppHoc.displayName = `withApp(${getComponentName(WrappedComponent)})`;\n\n  hoistStatics(AppHoc, WrappedComponent);\n\n  return AppHoc;\n};\n\nexport default withApp;\n","import React, { PureComponent } from 'react';\nimport { Keyframes, animated } from 'react-spring';\nimport { Link, NavLink } from 'react-router-dom';\nimport delay from 'delay';\nimport { withApp } from 'Hoc';\nimport { getNavImgSrc } from 'Utils';\nimport './index.scss';\n\nconst _NAV_WIDTH = 36;\nconst _NAV_LINK_HEIGHT = 10;\nconst _NAV_DRAWER_PADDING = 2;\nconst _NAV_COVER_MARGIN = 5;\nconst _NAV_COVERS_HEIGHT = (_NAV_WIDTH + _NAV_COVER_MARGIN) * 3;\nconst _NAV_CLOSE_Y = _NAV_LINK_HEIGHT + _NAV_DRAWER_PADDING;\nconst _NAV_COVERS_Y_FULL = _NAV_CLOSE_Y + _NAV_COVERS_HEIGHT;\nconst _NAV_COVERS_Y = _NAV_COVERS_HEIGHT;\n\n// nW: nav Width\n// cbT: close button translateY\n// clT: covers list translateY\n// mbO: more button opacity\n\nconst getInitialProps = () => ({\n  nW: 0,\n  cbT: _NAV_CLOSE_Y,\n  clT: _NAV_COVERS_Y_FULL,\n  mbO: 1\n});\n\nconst NavState = Keyframes.Spring({\n  unmounted: getInitialProps(),\n  mounted: async next => {\n    next({ nW: _NAV_WIDTH, from: getInitialProps() });\n    await delay(300);\n    next({ cbT: 0, clT: _NAV_COVERS_Y });\n  },\n  expend: async next => {\n    next({ mbO: 0, clT: 0 });\n  },\n  unexpend: async next => {\n    await delay(300);\n    next({ clT: _NAV_COVERS_Y });\n    await delay(200);\n    next({ mbO: 1 });\n  }\n});\n\nclass ReleasesNav extends PureComponent {\n  state = {\n    coversState: undefined\n  };\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { isIdle, isLeaving } = nextProps;\n\n    if (prevState.coversState !== undefined && (isIdle || isLeaving))\n      return {\n        coversState: undefined\n      };\n\n    return null;\n  }\n\n  handleOnMouseEnter = () => {\n    if (this.props.isIdle) return;\n    if (this.state.coversState === 'expend') return;\n    this.setState({ coversState: 'expend' }, () =>\n      this.props.onSend('RELEASE.PENDING')\n    );\n  };\n\n  handleOnMouseLeave = () => {\n    // if(!this.props.isMounted && this.state.coversState !== undefined)\n    //   return this.setState({ coversState: undefined })\n\n    if (this.state.coversState === 'unexpend') return;\n\n    this.setState({ coversState: 'unexpend' });\n  };\n\n  render() {\n    const { isMounted, isIdle, isLeaving } = this.props;\n    const { coversState } = this.state;\n    const state =\n      isIdle || isLeaving\n        ? 'unmounted'\n        : coversState === undefined\n        ? 'mounted'\n        : coversState;\n    return (\n      <NavState native state={state}>\n        {({ nW, cbT, clT, mbO }) => (\n          <div\n            className={`releases__nav ${\n              isMounted ? 'releases__nav--mounted' : ''\n            }`}\n          >\n            <div className=\"releases__nav__drawer releases__nav__drawer--close\">\n              <animated.div\n                className=\"releases__nav__drawer__content\"\n                style={{\n                  transform: cbT.interpolate(p => `translateY(${p}px)`)\n                }}\n              >\n                <Link to=\"/\" className=\"releases__nav__link\">\n                  close\n                </Link>\n              </animated.div>\n            </div>\n            <animated.div\n              className=\"releases__nav__hr\"\n              style={{\n                width: nW.interpolate(p => p)\n              }}\n            />\n            <div\n              className=\"releases__nav__drawer releases__nav__drawer--covers\"\n              onMouseLeave={this.handleOnMouseLeave}\n            >\n              <animated.div\n                className=\"releases__nav__drawer__content\"\n                style={{\n                  transform: clT.interpolate(p => `translateY(-${p}px)`)\n                }}\n              >\n                <div\n                  className=\"releases__nav__covers\"\n                  onMouseEnter={this.handleOnMouseEnter}\n                >\n                  {['album', 'split', 'ep'].map(item => (\n                    <NavLink\n                      to={`/releases/${item}`}\n                      key={`releases__nav__covers__${item}`}\n                      className=\"releases__nav__covers__link\"\n                      activeClassName=\"releases__nav__covers__link--active\"\n                    >\n                      <img\n                        src={getNavImgSrc('releases', item)}\n                        className={`releases__nav__covers__img releases__nav__covers__img--${item}`}\n                        alt=\"\"\n                      />\n                    </NavLink>\n                  ))}\n                </div>\n                <animated.div\n                  className=\"releases__nav__link\"\n                  onClick={this.handleOnMouseEnter}\n                  style={{\n                    opacity: mbO.interpolate(p => p)\n                  }}\n                >\n                  more\n                </animated.div>\n              </animated.div>\n            </div>\n          </div>\n        )}\n      </NavState>\n    );\n  }\n}\n\nconst mapContextToProps = context => ({\n  isIdle: context.matches('ready.releases.idle'),\n  isMounted: context.matches('ready.releases.mounted'),\n  isLeaving: context.matches('ready.releases.leaving')\n});\n\nexport default withApp(mapContextToProps)(ReleasesNav);\n","import React, { lazy, Suspense } from 'react';\nimport classNames from 'classnames';\n\nimport { Spinner } from 'Components';\nimport { withApp } from 'Hoc';\nimport ReleasesNav from './Nav';\nimport './index.scss';\n\nconst Album = lazy(() => import('./Album'));\nconst Split = lazy(() => import('./Split'));\nconst Ep = lazy(() => import('./Ep'));\n\n// https://codepen.io/2xsamurai/pen/WwmjKQ\nexport const ReleasesScrollInvite = ({ show }) => (\n  <div\n    className={classNames('release__scroll-invite', {\n      'release__scroll-invite--show': show\n    })}\n  >\n    <div className=\"release__scroll-invite__mouse\">\n      <div className=\"release__scroll-invite__scroller\" />\n    </div>\n  </div>\n);\n\nexport const ReleasesLoading = () => (\n  <div className=\"release__loading release__loading--show\">\n    <Spinner theme=\"white\" />\n  </div>\n);\n\nconst Releases = ({\n  isActive,\n  id: { next, current, previous },\n  scrollInvite\n}) => (\n  <div\n    className={classNames('layer releases', {\n      'layer--active': isActive,\n      [`releases--previous-${previous}`]: previous,\n      [`releases--current-${current}`]: current && isActive,\n      [`releases--next-${next}`]: next && isActive\n    })}\n  >\n    <ReleasesNav />\n    <ReleasesScrollInvite show={scrollInvite} />\n    <Suspense fallback={null}>\n      <Album />\n      <Split />\n      <Ep />\n    </Suspense>\n  </div>\n);\n\nconst mapContextToProps = context => ({\n  isActive: !context.matches('ready.releases.idle'),\n  scrollInvite: context.matches('ready.releases.mounted.pending.idle'),\n  id: context.context.id\n});\n\nexport default withApp(mapContextToProps)(Releases);\n","import React, { PureComponent } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport _get from 'lodash.get';\nimport withApp from './App';\nimport { ReleasesLoading } from 'Sections/Releases';\nimport { getComponentName, ImgsPrefetch } from 'Utils';\n\n// const getStateFromProps = ({ state, story, isLeaving, isCurrent, isPrevious }) => ({\n//   state,\n//   story,\n// })\n\nconst getReleaseStage = value =>\n  typeof value === 'string' ? value : Object.keys(value)[0];\n\nconst withRelease = (WrappedComponent, { release, assets = null }) => {\n  class ReleaseHoc extends PureComponent {\n    state = {\n      assetsLoaded: assets === null,\n      assetsLoading: false\n    };\n\n    //\n    // Life cycle\n    // --------------------------------------------------\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n      return prevProps.state === 'idle' && this.props.state !== 'idle';\n    }\n\n    componentDidMount() {\n      if (\n        this.props.state !== 'idle' &&\n        !this.state.assetsLoaded &&\n        !this.state.assetsLoading\n      )\n        this.handleOnLoadAssets();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n      if (snapshot && !this.state.assetsLoaded && !this.state.assetsLoading)\n        this.handleOnLoadAssets();\n    }\n\n    //\n    // Helpers\n    // --------------------------------------------------\n\n    _loadAssets = () => {\n      ImgsPrefetch(assets, true).then(() =>\n        this.setState({ assetsLoading: false, assetsLoaded: true })\n      );\n    };\n\n    //\n    // Events Handlers\n    // --------------------------------------------------\n\n    handleOnLoadAssets = () =>\n      this.setState({ assetsLoading: true }, () => this._loadAssets());\n\n    handleOnMounted = evt => () => this.props.onSend(evt);\n\n    handleOnNext = evt => () => {\n      if (this.props.stateMatches(`ready.releases.${evt}`)) this.props.onNext();\n    };\n\n    //\n    // Renderers\n    // --------------------------------------------------\n\n    render() {\n      const { state, story } = this.props;\n\n      if (state === 'idle') return null;\n\n      if (!this.state.assetsLoaded) return <ReleasesLoading />;\n\n      return (\n        <div className={`release release--${release}`}>\n          <WrappedComponent\n            state={state}\n            story={story}\n            onNext={this.handleOnNext}\n            onMounted={this.handleOnMounted}\n          />\n        </div>\n      );\n    }\n  }\n\n  ReleaseHoc.displayName = `withRelease(${getComponentName(WrappedComponent)})`;\n\n  hoistStatics(ReleaseHoc, WrappedComponent);\n\n  const idleResponse = () => ({\n    state: 'idle',\n    story: false\n  });\n\n  return withApp(context => {\n    if (context.matches('ready.releases.idle')) return idleResponse();\n\n    const {\n      section: { previous },\n      id: { previous: previousId, current: currentId }\n    } = context.context;\n\n    const isCurrent = currentId === release;\n    const isPrevious = previousId === release;\n    const isLeaving = isPrevious && previous === 'releases';\n\n    if (!isPrevious && !isCurrent) return idleResponse();\n\n    if (isPrevious && !isLeaving)\n      return {\n        state: context.history\n          ? getReleaseStage(_get(context.history.value, 'ready.releases'))\n          : 'mounted',\n        story: context.history\n          ? context.history.matches('ready.releases.mounted.story')\n          : false\n      };\n\n    return {\n      state: getReleaseStage(_get(context.value, 'ready.releases')),\n      story: context.matches('ready.releases.mounted.story')\n    };\n  })(ReleaseHoc);\n};\n\nexport default withRelease;\n","export { default as withApp } from './App';\nexport { default as withRelease } from './Release';\n","import React, { PureComponent } from 'react';\nimport { getPhotoUrl, ImgTracker, ImgPrefetch } from 'Utils';\nimport './index.scss';\n\nexport default class Image extends PureComponent {\n  static defaultProps = {\n    extension: 'jpg',\n    className: ''\n  };\n\n  state = {\n    isLoaded: false\n  };\n\n  _imgRef = React.createRef();\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  componentDidMount() {\n    ImgTracker.observe(this._imgRef.current, this.handleOnVisible);\n  }\n\n  componentDidUpdate() {}\n\n  componentWillUnmount() {\n    if (this._imgRef.current && !this.state.isLoaded)\n      ImgTracker.unobserve(this._imgRef.current);\n  }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  _getImgPath = () => {\n    const { src, extension } = this.props;\n    const format = this.state.isLoaded ? 'md' : 'sm';\n    return getPhotoUrl(`${src}-${format}.${extension}`);\n  };\n\n  _getRest = () => {\n    const { className, extension, src, ...rest } = this.props;\n\n    return rest;\n  };\n\n  //\n  // Handlers\n  // --------------------------------------------------\n\n  handleOnVisible = () => {\n    ImgTracker.unobserve(this._imgRef.current);\n    ImgPrefetch(this._getImgPath('md'), true)\n      .then(r => this.setState({ isLoaded: true }))\n      .catch(e => console.log(e));\n  };\n\n  //\n  // Render\n  // --------------------------------------------------\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <img\n        ref={this._imgRef}\n        src={this._getImgPath()}\n        className={`figure__img figure__img--small  ${className}`}\n        alt=\"\"\n        {...this._getRest()}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport './index.scss';\n\nconst Spinner = ({ theme, className }) => {\n  let w = 44, // width & height\n    s = 4, // stroke\n    t = 2, // translate\n    r = 20, // circle radius\n    d = 'M35.816 7.757C32.158 3.037 26.434 0 20 0 8.954 0 0 8.954 0 20',\n    o = 0.3, // back color opacity\n    f, // front color\n    b; // back color\n\n  switch (theme) {\n    case 'white':\n      f = '#fff';\n      b = '#fff';\n      break;\n    default:\n    case 'dark':\n      f = '#ececec';\n      b = '#575757';\n      o = 1;\n  }\n\n  return (\n    <svg\n      className={classNames('c-spinner', className)}\n      width={w}\n      height={w}\n      viewBox={`0 0 ${w} ${w}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g\n        transform={`translate(${t} ${t})`}\n        strokeWidth={s}\n        fill=\"none\"\n        fillRule=\"evenodd\"\n      >\n        <circle stroke={f} opacity={o} cx={r} cy={r} r={r} />\n        <path d={d} stroke={b} strokeLinecap=\"round\" />\n      </g>\n    </svg>\n  );\n};\n\nSpinner.defaultProps = {\n  theme: 'dark',\n  className: ''\n};\n\nexport default Spinner;\n","export { default as Image } from \"./Image\";\nexport { default as Spinner } from \"./Spinner\";\n","const envPublicUrl = process.env.PUBLIC_URL;\n\nexport const getStaticUrl = relativePath =>\n  `${envPublicUrl}/static/${relativePath}`;\n\nexport const getImageUrl = path => getStaticUrl(`images/${path}`);\nexport const getPhotoUrl = path => getStaticUrl(`photos/${path}`);\n","import throttle from 'lodash.throttle';\nimport { STORY_TRIGGER_EVENTS, STORY_TRIGGER_THROTTLE } from 'Constants';\n\nclass StoryTrigger {\n  constructor() {\n    this._eventsBound = false;\n    this._releaseId = null;\n    this._callback = null;\n\n    this._handleEvent = throttle(this._handleEvent, STORY_TRIGGER_THROTTLE);\n  }\n\n  _bindEvents = () => {\n    if (this._eventsBound) return;\n\n    STORY_TRIGGER_EVENTS.forEach(e => {\n      document.addEventListener(e, this._handleEvent, {\n        capture: true,\n        passive: true\n      });\n    });\n    this._eventsBound = true;\n  };\n\n  _unbindEvents = () => {\n    if (!this._eventsBound) return;\n\n    STORY_TRIGGER_EVENTS.forEach(e => {\n      document.removeEventListener(e, this._handleEvent, {\n        capture: true,\n        passive: true\n      });\n    });\n    this._eventsBound = false;\n  };\n\n  _handleEvent = () => {\n    if (this._releaseId === null) return;\n    this._callback(this._releaseId);\n    this.stop();\n  };\n\n  start(_releaseId, _callback) {\n    if (this._releaseId !== null) {\n      const msg =\n        this._releaseId === _releaseId\n          ? 'StoryTrigger already started'\n          : 'StoryTrigger binded to another release';\n      console.error(msg, this._releaseId, _releaseId);\n      return;\n    }\n\n    this._releaseId = _releaseId;\n    this._callback = _callback;\n  }\n\n  stop() {\n    this._releaseId = null;\n    this._callback = null;\n  }\n}\n\nconst inst = new StoryTrigger();\ninst._bindEvents();\n\nexport default inst;\n","// https://lesdieuxducode.com/blog/2018/7/charger-des-images-lors-du-scroll-avec-lintersectionobserver\n\nexport default class ImgTracker {\n  static observedImages = new Map();\n\n  static Observer =\n    'IntersectionObserver' in window\n      ? new IntersectionObserver(\n          entries => {\n            entries.forEach(entry => {\n              if (entry.intersectionRatio > 0) {\n                let elt = entry.target;\n                ImgTracker.observedImages.get(elt)();\n                ImgTracker.unobserve(elt);\n              }\n            });\n          },\n          {\n            rootMargin: '50px 50px',\n            threshold: 0.01\n          }\n        )\n      : null;\n\n  static observe(elt, callback) {\n    if (ImgTracker.Observer != null) {\n      ImgTracker.Observer.observe(elt);\n      ImgTracker.observedImages.set(elt, callback);\n    } else {\n      callback();\n    }\n  }\n\n  static unobserve(elt) {\n    if (ImgTracker.Observer != null) {\n      ImgTracker.observedImages.delete(elt);\n      ImgTracker.Observer.unobserve(elt);\n    }\n  }\n}\n","import { getStaticUrl } from './Paths';\n\nconst _LOADED_IMGS = new Map();\n\nexport const ImgPrefetch = (path, inStatic = false) =>\n  new Promise((resolve, reject) => {\n    if (_LOADED_IMGS.has(path)) return resolve(_LOADED_IMGS.get(path));\n\n    const image = new Image();\n\n    image.src = inStatic ? path : getStaticUrl(path);\n    image.onerror = () =>\n      reject(new Error(`could not load image: ${path} :: ${image.src}`));\n    image.onload = () => {\n      _LOADED_IMGS.set(path, image.src);\n      return resolve(image.src);\n    };\n  });\n\nexport const ImgsPrefetch = (paths, inStatic = false) =>\n  Promise.all(paths.map(p => ImgPrefetch(p, inStatic)));\n","import _get from 'lodash.get';\nimport { actions } from 'xstate';\n\nconst { log } = actions;\n\nexport const actionLog = (label = '') =>\n  log((context, event) => ({ context, event }), label);\n\n// const sendToTarget = send((ctx, event) => ({\n//   type: `SHOW.${ctx.section.current}`\n// }));\n\nexport const contextMatch = (obj, str) => {\n  const [path, value] = str.split(':');\n  return _get(obj, path) === value;\n};\n\nexport const doesCondMatches = (c1, c2) => (ctx, event) => {\n  return contextMatch(ctx, c1) && contextMatch(event, c2);\n};\n","import FontFaceObserver from 'fontfaceobserver';\nimport { APP_FONTS_LIST, APP_FONTS_TIMEOUT } from 'Constants';\n\nexport const ObserveFontsLoading = () => {\n  const observers = APP_FONTS_LIST.reduce((a, { name, weight }) => {\n    const font = new FontFaceObserver(name, { weight });\n    a.push(font.load(null, APP_FONTS_TIMEOUT));\n    return a;\n  }, []);\n\n  return Promise.all(observers);\n  // .then(() => {\n  //   console.log('fonts loaded')\n  //   return true\n  //  })\n  // .catch(err => {\n  //   console.warn('Some critical font are not available:', err);\n  //   return false\n  // });\n};\n","import { Globals, animated } from 'react-spring';\nimport { getStaticUrl } from './Paths';\n\nexport { default as StoryTrigger } from './StoryTrigger';\nexport { default as ImgTracker } from './ImgTracker';\nexport * from './ImgPrefetch';\nexport * from './Machines';\nexport * from './Fonts';\n\nexport const getComponentName = Component =>\n  Component.displayName || Component.name || 'Component';\n\nexport const AnimatedDiv = animated(Globals.defaultElement);\nexport const raf = cb => Globals.requestFrame(cb);\nexport const caf = cb => Globals.cancelFrame(cb);\n\nconst defaultRouteProps = { match: { params: { section: 'home', id: null } } };\n\nexport const getRouteParams = ({ match: { params } }) => params;\nexport const getRouteSection = (props = null) =>\n  getRouteParams(props || defaultRouteProps).section;\nexport const getRouteId = (props = null) =>\n  getRouteParams(props || defaultRouteProps).id;\n\nexport const getImageUrl = path => getStaticUrl(`images/${path}`);\nexport const getPhotoUrl = path => getStaticUrl(`photos/${path}`);\nexport const getVideoUrl = path => getStaticUrl(`videos/${path}`);\n\nexport const getViewport = () => {\n  const { width, height } = document.body.getBoundingClientRect();\n  return {\n    width,\n    height\n  };\n};\nexport const roundToEven = n => 2 * Math.round(n / 2);\n\nexport const getNavImgSrc = (section, item) => {\n  switch (section) {\n    case 'releases':\n      return getStaticUrl(`covers/${item}.jpg`);\n    case 'videos':\n      return getStaticUrl(`videos/${item}-md.jpg`);\n    // case 'shows': return getStaticUrl(`covers/${item}.jpg`)\n    default:\n    // do nothing\n  }\n};\n\n// https://github.com/MicheleBertoli/react-automata/blob/master/src/utils.js#L12\nexport const stringify = (state, path = []) => {\n  if (typeof state === 'string') {\n    return path.concat(state).join('.');\n  }\n\n  return Object.keys(state).reduce(\n    (prev, key) => prev.concat(stringify(state[key], path.concat(key))),\n    []\n  );\n};\n","module.exports = __webpack_public_path__ + \"static/media/home-bkgd.2eab98fd.jpg\";","import React from 'react';\n\nexport const getInitialContext = () => ({\n  playerState: 'pauseVideo',\n  playerReady: false,\n  videoId: null,\n  state: 'idle'\n});\n\nconst VideoContext = React.createContext(getInitialContext());\n\nexport const { Provider, Consumer } = VideoContext;\n\nexport default VideoContext;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withApp } from 'Hoc';\nimport Machine from 'Machines';\n\nclass LayoutDebug extends Component {\n  componentDidMount() {\n    console.log(this.props);\n  }\n  render() {\n    return (\n      <div className=\"home-video--mobile\">\n        <ul>\n          <li>\n            <button onClick={this.props.onNext}>NEXT</button>\n          </li>\n          <li>\n            {this.props.getNextEvents().map((e, i) => {\n              return (\n                <button key={`btn__${i}`} onClick={() => Machine.send(e)}>\n                  {e}\n                </button>\n              );\n            })}\n          </li>\n          {this.props.stateMatches('ready.home.hero.mounted') && <li>HOME</li>}\n          <li>\n            <hr />\n            <ul style={{ paddingLeft: 15 }}>\n              <li>\n                <Link to=\"/\">home</Link>\n              </li>\n              <li>\n                <Link to=\"/releases/album\">album</Link> ||{' '}\n                <Link to=\"/releases/split\">split</Link> ||{' '}\n                <Link to=\"/releases/ep\">ep</Link>\n              </li>\n              <li>\n                <Link to=\"/videos/nevers\">nevers</Link> ||{' '}\n                <Link to=\"/videos/rouge\">rouge</Link>\n              </li>\n            </ul>\n          </li>\n        </ul>\n        <pre>{JSON.stringify(this.props.getValue(), null, 2)}</pre>\n        <pre>{JSON.stringify(this.props.getStrings(), null, 2)}</pre>\n        <pre>{JSON.stringify(this.props.getContext(), null, 2)}</pre>\n        <pre>{JSON.stringify(this.props.getNextEvents(), null, 2)}</pre>\n      </div>\n    );\n  }\n}\n\nconst mapContextToProps = ({ context }) => ({\n  HelloSection: context.section.current\n});\n\nexport default withApp(mapContextToProps)(LayoutDebug);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { AppContext } from 'Contexts';\n// import Layout from 'Layout';\nimport Layout from 'Layout/Debug'\nimport registerServiceWorker from 'registerServiceWorker';\n\nimport 'Scss/index.scss';\n\nconst MainRoute = () => (\n  <AppContext>\n    <Layout />\n  </AppContext>\n);\n\nconst App = () => (\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Route path=\"/:section?/:id?\" component={MainRoute} />\n  </BrowserRouter>\n);\n\nReactDOM.render(<App />, document.getElementById('app-root'));\n\nregisterServiceWorker();\n"],"sourceRoot":""}