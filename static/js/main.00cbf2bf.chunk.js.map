{"version":3,"sources":["Contexts/App.js","Machines/HomeStates.js","Machines/SectionsStates.js","Machines/App.js","Machines/index.js","Machines/Release.js","Hoc/App.js","Sections/Releases/index.js","Hoc/Release.js","Hoc/index.js","Components/Image/index.js","Components/Spinner/index.js","Components/index.js","Utils/Paths.js","Utils/StoryTrigger.js","Utils/ImgTracker.js","Utils/ImgPrefetch.js","Utils/Machines.js","Utils/Fonts.js","Utils/index.js","Sections/Home/Bkgd/home-bkgd.jpg","Layout/img_error.jpg","Constants.js","Contexts/Video.js","Sections/Home/Hero/index.js","Sections/Home/Bkgd/index.js","Sections/Home/index.js","Layout/index.js","registerServiceWorker.js","index.js"],"names":["defaultViewport","width","height","device","orientation","setCurrentMediaQueries","mq","Object","_Users_michaellefebvre_www_m_sixteen_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","MEDIA_QUERIES_BY_MATCH","media","getViewport","getInitialContext","props","arguments","length","undefined","merge","Machine","initialContext","section","current","getRouteSection","id","getRouteId","MEDIA_QUERIES_LIST","reduce","a","q","window","matchMedia","match","matches","AppContext","React","createContext","Provider","App","Consumer","state","machine","initialState","pathname","_this","location","_escActive","service","init","activities","waitingForStoryTrigger","ctx","_setWaitingForStoryTrigger","listenEscKey","_setListenEscKey","get","onTransition","handleOnTransition","_send","evt","send","_setServiceContext","context","type","_sectionNavigate","_getRouteParams","getRouteParams","_getRouteParams$secti","_getRouteParams$id","_this$state$machine$c","currentSection","currentId","next","StoryTrigger","start","handleOnStoryTrigger","stop","handleOnMediaQuery","handleOnResize","changed","setState","_id","console","error","handleOnKeydown","_ref","keyCode","history","push","_this2","this","addEventListener","passive","forEach","addListener","devTools","removeEventListener","prevProps","prevState","snapshot","react__WEBPACK_IMPORTED_MODULE_6___default","createElement","value","children","nextProps","Component","withRouter","homeStates","states","hero","initial","unknown","on","","target","cond","contextMatch","idle","NEXT","entering","HERO.NEXT","mounted","onEntry","SECTION.NAVIGATE","doesCondMatches","actions","releases_in","releases_out","videos_in","videos_out","bkgd","CONTEXT.UPDATED","previous","playVideo","_ref2","pauseVideo","getSectionStates","concat","SECTION.NAVIGATE.ID","leaving","videos","_merge","shows","releases","pending","after","defineProperty","RELEASE_IDLE_TIMEOUT","RELEASE.PENDING","RELEASE.STORY","story","appMachine","loadind","invoke","src","onDone","onError","ready","home","fatal","SET.CONTEXT","setContext","assign","_ref$context","setNextToCurrentSection","setCurrentToPreviousSection","clearSectionContext","e","setSectionId","services","loadAppAssets","_loadAppAssets","asyncToGenerator","regenerator_default","mark","_callee","image","images","fonts","loaded","wrap","_context","prev","ImgPrefetch","ImgBkgd","catch","sent","ImgsPrefetch","APP_IMAGES_ONLOAD","ObserveFontsLoading","abrupt","Promise","_x","apply","guards","canPlayHomeVideo","_ref2$section","indexOf","canMountHomeVideo","_ref3","_ref3$section","release","assets","isLoaded","isLeaving","isCurrent","isPrevious","RELEASE.NEXT","_","_ref4","_ref5","unmounted","onExit","loading","animate","background","event","objectSpread","resetContext","_ref6","fetchAssets","_fetchAssets","resolve","delay","MachineInterpret","classCallCheck","_service","_started","config","Error","interpret","AppMachine","withContext","withConfig","o","withApp","mapContextToProps","v","WrappedComponent","AppHoc","_PureComponent","_getPrototypeOf2","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","getStateByPath","path","_get","getValue","getStrings","toStrings","getNextEvents","nextEvents","getContext","stateMatches","isReady","hasVideoHeader","getDevice","isDevice","isDesktop","isTablet","isMobile","isLandscape","bkgdCanPlay","_this$getContext$sect","getHelpers","hanleOnSend","hanleOnNext","inherits","createClass","key","react_default","onNext","onSend","PureComponent","contextType","displayName","getComponentName","hoistStatics","Album","lazy","__webpack_require__","then","bind","Split","Ep","ReleasesScrollInvite","show","className","classNames","release__scroll-invite--show","ReleasesLoading","Components","theme","getReleaseStage","isActive","scrollInvite","_classNames","_ref2$id","layer--active","Releases_ReleasesScrollInvite","react","fallback","keys","withRelease","_ref$assets","ReleaseHoc","assetsLoaded","assetsLoading","_loadAssets","handleOnLoadAssets","handleOnMounted","handleOnNext","_this$props","onMounted","Releases_ReleasesLoading","_context$context","_context$context$id","previousId","d","__webpack_exports__","Hoc_App","Release","Image","_imgRef","createRef","_getImgPath","extension","format","getPhotoUrl","_getRest","_this$props2","objectWithoutProperties","handleOnVisible","ImgTracker","unobserve","r","log","observe","ref","alt","defaultProps","Spinner","f","b","viewBox","xmlns","transform","strokeWidth","fill","fillRule","stroke","opacity","cx","cy","strokeLinecap","Image_Image","src_Components_Spinner","getStaticUrl","relativePath","process","inst","_bindEvents","_eventsBound","STORY_TRIGGER_EVENTS","document","_handleEvent","capture","_unbindEvents","_releaseId","_callback","throttle","STORY_TRIGGER_THROTTLE","msg","elt","callback","Observer","observedImages","set","delete","Map","IntersectionObserver","entries","entry","intersectionRatio","rootMargin","threshold","_LOADED_IMGS","inStatic","reject","has","onerror","onload","paths","all","map","p","obj","str","_str$split","split","_str$split2","slicedToArray","c1","c2","observers","APP_FONTS_LIST","name","weight","font","FontFaceObserver","load","APP_FONTS_TIMEOUT","AnimatedDiv","Utils_getImageUrl","Utils_getPhotoUrl","roundToEven","Utils_getNavImgSrc","Utils_StoryTrigger","ImgTracker_ImgTracker","ImgPrefetch_ImgPrefetch","Machines_contextMatch","Fonts_ObserveFontsLoading","animated","Globals","defaultElement","defaultRouteProps","params","getImageUrl","_document$body$getBou","body","getBoundingClientRect","n","Math","round","getNavImgSrc","item","module","exports","RELEASES_ID","VIDEOS_ID","HOME_BKGD_VIDEOID","outer","outerStyle","scrollbarWidth","style","position","overflow","top","appendChild","offsetWidth","clientWidth","removeChild","album","title","ep","RELEASES_COVERS","nevers","videoId","description","rouge","VIDEOS_THUMBS","VideoContext","playerState","playerReady","BlockquoteStart","from","web","native","immediate","clipPath","to","blockquote","BlockquoteEndContent","y","w","span","interpolate","BlockquoteEnd","t","marginTop","Title","h","_ref7","div","h1","_abstractDefaultProps","AbstractKf","Keyframes","Spring","Abstract","_ref8","_ref9","hr","HomeNav","_ref10","items","_ref10$onRest","onRest","_ref11","ul","styles","li","Link","_homeProps","s","_releasesProps","_videosProps","_defaultProps","HomeSpring","Home","navState","handleOnRest","_this$state","_ref12","header","tabIndex","Hero_BlockquoteStart","Hero_Title","Hero_BlockquoteEnd","Hero_BlockquoteEndContent","Hero_Abstract","Hero_HomeNav","getInitialState","showPlayer","HomeBkgd","_player","_hasNext","handleOnEnd","handleOnReady","mute","handleOnPlay","_shouldForceOnReady","_togglePlayer","YouTube","opts","playerVars","autoplay","disablekb","controls","showinfo","modestbranding","loop","fs","autohide","rel","enablejsapi","onPlay","onReady","onEnd","home-video--mobile","home-video--paused","playerRenderer","_getInitialState","Home_Hero","Home_Bkgd","Layout","hasError","_hasErrorBoundary","info","componentStack","JSON","stringify","ImgErr","href","errorBoundaryRenderer","Sections_Home","miniDebugRenderer","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","MainRoute","Contexts_App","Layout_Layout","ReactDOM","render","BrowserRouter","basename","Route","component","getElementById","URL","origin","fetch","response","status","headers","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.00cbf2bf.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router';\nimport merge from 'lodash.merge';\nimport Machine from 'Machines';\nimport {\n  getViewport,\n  getRouteSection,\n  getRouteId,\n  getRouteParams,\n  StoryTrigger\n} from 'Utils';\nimport { MEDIA_QUERIES_LIST, MEDIA_QUERIES_BY_MATCH } from 'Constants';\n\nconst defaultViewport = {\n  width: 0,\n  height: 0,\n  device: null,\n  orientation: null\n};\n\nconst setCurrentMediaQueries = mq => ({\n  ...MEDIA_QUERIES_BY_MATCH[mq.media],\n  ...getViewport()\n});\n\nconst getInitialViewPort = () =>\n  MEDIA_QUERIES_LIST.reduce((a, mq) => {\n    const q = window.matchMedia(mq.match);\n    if (q.matches) a = setCurrentMediaQueries(q);\n    return a;\n  }, defaultViewport);\n\nconst getInitialContext = (props = null) =>\n  merge({}, Machine.initialContext(), {\n    section: {\n      current: getRouteSection(props)\n    },\n    id: {\n      current: getRouteId(props)\n    },\n    ...getInitialViewPort()\n  });\n\nexport const AppContext = React.createContext(getInitialContext());\n\nexport const { Provider, Consumer } = AppContext;\n\nclass App extends Component {\n  state = {\n    machine: Machine.initialState(),\n    pathname: this.props.location.pathname\n  };\n\n  _escActive = false;\n\n  service = Machine.init(getInitialContext(this.props), {\n    activities: {\n      waitingForStoryTrigger: ctx => this._setWaitingForStoryTrigger(ctx),\n      listenEscKey: ctx => this._setListenEscKey()\n    }\n  })\n    .get()\n    .onTransition(current => this.handleOnTransition(current));\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const {\n      location: { pathname }\n    } = nextProps;\n\n    if (pathname !== prevState.pathname)\n      return {\n        pathname\n      };\n\n    return null;\n  }\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  componentDidMount() {\n    window.addEventListener('resize', this.handleOnResize, { passive: true });\n    window.addEventListener('keydown', this.handleOnKeydown);\n\n    MEDIA_QUERIES_LIST.forEach(mq => {\n      const q = window.matchMedia(mq.match);\n      q.addListener(this.handleOnMediaQuery);\n    });\n\n    this.service.start();\n    this.service.devTools.init(this.state.machine);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleOnResize);\n\n    this.service.stop();\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    return prevState.pathname !== this.props.location.pathname;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (snapshot) this._sectionNavigate();\n  }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  _send = evt => {\n    this.service.send(evt);\n  };\n\n  _setServiceContext = (context = {}) =>\n    this._send({ type: 'SET.CONTEXT', context });\n\n  _sectionNavigate = () => {\n    const { section = 'home', id = null } = getRouteParams(this.props);\n    const {\n      section: { current: currentSection },\n      id: { current: currentId }\n    } = this.state.machine.context;\n\n    if (currentSection !== section)\n      return this._send({\n        type: 'SECTION.NAVIGATE',\n        context: {\n          section: {\n            next: section\n          },\n          id: {\n            next: id\n          }\n        }\n      });\n\n    if (currentId !== id)\n      return this._send({ type: 'SECTION.NAVIGATE.ID', id });\n  };\n\n  _setWaitingForStoryTrigger = ctx => {\n    StoryTrigger.start(ctx.id.current, this.handleOnStoryTrigger);\n    return () => StoryTrigger.stop();\n  };\n\n  _setListenEscKey = ctx => {\n    this._escActive = true;\n    return () => (this._escActive = false);\n  };\n\n  //\n  // Events Handlers\n  // --------------------------------------------------\n\n  handleOnMediaQuery = mq => {\n    if (mq.matches) this._setServiceContext(setCurrentMediaQueries(mq));\n  };\n\n  handleOnResize = () => {\n    this._setServiceContext(getViewport());\n  };\n\n  handleOnTransition = machine => {\n    if (!machine.changed) return;\n    this.setState({ machine });\n  };\n\n  handleOnStoryTrigger = _id => {\n    const {\n      context: {\n        id: { current }\n      }\n    } = this.state.machine;\n    if (_id !== current) {\n      console.error('handleOnStoryTrigger wrong release', { current, _id });\n      return;\n    }\n    this._send('RELEASE.STORY');\n  };\n\n  handleOnKeydown = ({ keyCode }) => {\n    if (this._escActive && keyCode === 27) this.props.history.push('/');\n  };\n\n  //\n  // Renderers\n  // --------------------------------------------------\n\n  render() {\n    return (\n      <Provider value={this.state.machine}>{this.props.children}</Provider>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import { send } from 'xstate';\nimport { contextMatch, doesCondMatches } from 'Utils';\n\nconst homeStates = {\n  type: 'parallel',\n  states: {\n    hero: {\n      initial: 'unknown',\n      states: {\n        unknown: {\n          on: {\n            '': [\n              {\n                target: 'entering',\n                cond: ctx => contextMatch(ctx, 'section.current:home')\n              },\n              { target: 'idle' }\n            ]\n          }\n        },\n        idle: {\n          on: {\n            NEXT: {\n              target: 'entering',\n              cond: ctx => contextMatch(ctx, 'section.current:home')\n            }\n          }\n        },\n        entering: {\n          on: {\n            'HERO.NEXT': 'mounted'\n          }\n        },\n        mounted: {\n          onEntry: 'clearSectionContext',\n          on: {\n            'SECTION.NAVIGATE': [\n              {\n                target: 'videos_in',\n                cond: doesCondMatches(\n                  'section.current:home',\n                  'context.section.next:videos'\n                ),\n                actions: 'setContext'\n              },\n              {\n                target: 'releases_in',\n                cond: doesCondMatches(\n                  'section.current:home',\n                  'context.section.next:releases'\n                ),\n                actions: 'setContext'\n              }\n            ]\n          }\n        },\n        releases_in: {\n          onEntry: 'setCurrentToPreviousSection',\n          on: {\n            NEXT: [\n              {\n                actions: ['setNextToCurrentSection', send('NEXT')],\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:home') &&\n                  contextMatch(ctx, 'section.next:releases')\n              },\n              {\n                target: 'releases_out',\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:releases') &&\n                  contextMatch(ctx, 'section.current:home')\n              }\n            ]\n          }\n        },\n        releases_out: {\n          on: {\n            'HERO.NEXT': 'mounted'\n          }\n        },\n        videos_in: {\n          onEntry: 'setCurrentToPreviousSection',\n          on: {\n            NEXT: [\n              {\n                actions: ['setNextToCurrentSection', send('NEXT')],\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:home') &&\n                  contextMatch(ctx, 'section.next:videos')\n              },\n              {\n                target: 'videos_out',\n                cond: ctx =>\n                  contextMatch(ctx, 'section.previous:videos') &&\n                  contextMatch(ctx, 'section.current:home')\n              }\n            ]\n          }\n        },\n        videos_out: {\n          on: {\n            'HERO.NEXT': 'mounted'\n          }\n        }\n      }\n    },\n    bkgd: {\n      initial: 'unknown',\n      on: {\n        'CONTEXT.UPDATED': '.unknown'\n      },\n      states: {\n        unknown: {\n          on: {\n            '': [\n              { target: 'playVideo', cond: 'canPlayHomeVideo' },\n              { target: 'mounted', cond: 'canMountHomeVideo' },\n              { target: 'idle' }\n            ]\n          }\n        },\n        idle: {\n          on: {\n            NEXT: {\n              target: 'unknown',\n              cond: ctx => contextMatch(ctx, 'section.current:home')\n            }\n          }\n        },\n        mounted: {\n          on: {\n            NEXT: {\n              target: 'unknown',\n              cond: ctx =>\n                contextMatch(ctx, 'section.current:home') &&\n                ctx.section.previous !== null\n            },\n            'SECTION.NAVIGATE': {\n              target: 'unknown',\n              cond: (ctx, { context }) =>\n                context &&\n                context.section.next !== null &&\n                ctx.section.current === 'home'\n            }\n          }\n        },\n        playVideo: {\n          on: {\n            'SECTION.NAVIGATE': {\n              target: 'pauseVideo',\n              cond: (ctx, { context }) =>\n                context &&\n                context.section.next !== null &&\n                ctx.section.current === 'home'\n            }\n          }\n        },\n        pauseVideo: {\n          on: {\n            NEXT: {\n              target: 'unknown',\n              cond: ctx =>\n                contextMatch(ctx, 'section.current:home') &&\n                ctx.section.previous !== null\n            }\n          }\n        }\n      }\n    }\n  }\n};\n\nexport default homeStates;\n","import { send } from 'xstate';\nimport _merge from 'lodash.merge';\nimport { contextMatch } from 'Utils';\nimport { RELEASE_IDLE_TIMEOUT } from 'Constants';\n\nconst getSectionStates = section => ({\n  initial: 'unknown',\n  states: {\n    unknown: {\n      on: {\n        '': [\n          {\n            target: 'entering',\n            cond: ctx => contextMatch(ctx, `section.current:${section}`)\n          },\n          { target: 'idle' }\n        ]\n      }\n    },\n    idle: {\n      on: {\n        NEXT: {\n          target: 'entering',\n          cond: ctx => contextMatch(ctx, `section.current:${section}`)\n        }\n      }\n    },\n    entering: {\n      on: {\n        NEXT: {\n          target: 'mounted',\n          cond: ctx => contextMatch(ctx, `section.current:${section}`)\n        }\n      }\n    },\n    mounted: {\n      activities: ['listenEscKey'],\n      onEntry: 'clearSectionContext',\n      on: {\n        'SECTION.NAVIGATE': {\n          target: 'leaving',\n          cond: ctx => contextMatch(ctx, `section.current:${section}`),\n          actions: 'setContext'\n        },\n        'SECTION.NAVIGATE.ID': {\n          cond: ctx => contextMatch(ctx, `section.current:${section}`),\n          actions: ['setSectionId', send('CONTEXT.UPDATED')]\n        }\n      }\n    },\n    leaving: {\n      onEntry: 'setCurrentToPreviousSection',\n      on: {\n        NEXT: {\n          target: 'idle',\n          actions: ['setNextToCurrentSection', send('NEXT')],\n          cond: ctx =>\n            contextMatch(ctx, `section.previous:${section}`) &&\n            contextMatch(ctx, 'section.next:home')\n        }\n      }\n    }\n  }\n});\n\nexport const videos = _merge({}, getSectionStates('videos'));\nexport const shows = _merge({}, getSectionStates('shows'));\n\nexport const releases = _merge({}, getSectionStates('releases'), {\n  states: {\n    mounted: {\n      on: {\n        'SECTION.NAVIGATE.ID': {\n          target: 'entering'\n        }\n      },\n      initial: 'pending',\n      states: {\n        pending: {\n          initial: 'init',\n          states: {\n            init: {\n              after: {\n                [RELEASE_IDLE_TIMEOUT]: 'idle'\n              }\n            },\n            idle: {\n              on: {\n                'RELEASE.PENDING': 'init'\n              }\n            }\n          },\n          on: {\n            'RELEASE.STORY': 'story'\n          },\n          activities: ['waitingForStoryTrigger']\n        },\n        story: {\n          type: 'final'\n        }\n      }\n    }\n  }\n});\n","import { Machine, assign, send } from 'xstate';\nimport _merge from 'lodash.merge';\nimport { ObserveFontsLoading, ImgPrefetch, ImgsPrefetch } from 'Utils';\n// import { actionLog } from 'Utils'\nimport home from './HomeStates';\nimport { releases, videos, shows } from './SectionsStates';\nimport ImgBkgd from 'Sections/Home/Bkgd/home-bkgd.jpg';\nimport { APP_IMAGES_ONLOAD } from 'Constants';\n\nconst appMachine = Machine(\n  {\n    id: 'app',\n    context: {\n      section: {\n        current: 'home',\n        previous: null,\n        next: null\n      },\n      id: {\n        current: null,\n        previous: null,\n        next: null\n      },\n      width: 0,\n      height: 0,\n      device: null,\n      orientation: null\n    },\n    initial: 'loadind',\n    states: {\n      unknown: {},\n      loadind: {\n        invoke: {\n          src: 'loadAppAssets',\n          onDone: {\n            target: 'ready'\n          },\n          onError: {\n            target: 'fatal'\n          }\n        }\n      },\n      ready: {\n        type: 'parallel',\n        states: {\n          home,\n          releases,\n          videos,\n          shows\n        }\n      },\n      fatal: {\n        type: 'final'\n      }\n    },\n    on: {\n      'SET.CONTEXT': {\n        actions: ['setContext', send('CONTEXT.UPDATED')]\n      }\n    }\n  },\n  {\n    actions: {\n      setContext: assign((ctx, { context = {} }) => _merge({}, ctx, context)),\n      setNextToCurrentSection: assign(ctx =>\n        _merge({}, ctx, {\n          section: {\n            current: ctx.section.next,\n            next: null\n          },\n          id: {\n            current: ctx.id.next,\n            next: null\n          }\n        })\n      ),\n      setCurrentToPreviousSection: assign(ctx =>\n        _merge({}, ctx, {\n          section: {\n            previous: ctx.section.current,\n            current: null\n          },\n          id: {\n            previous: ctx.id.current,\n            current: null\n          }\n        })\n      ),\n      clearSectionContext: assign((ctx, e) =>\n        _merge({}, ctx, {\n          section: {\n            previous: null,\n            current: ctx.section.current,\n            next: null\n          },\n          id: {\n            previous: null,\n            current: ctx.id.current,\n            next: null\n          }\n        })\n      ),\n      setSectionId: assign((ctx, e) =>\n        _merge({}, ctx, {\n          id: {\n            previous: ctx.id.current,\n            current: e.id,\n            next: null\n          }\n        })\n      )\n    },\n    services: {\n      loadAppAssets: async context => {\n        const image = await ImgPrefetch(ImgBkgd, true).catch(e => false);\n        const images = await ImgsPrefetch(APP_IMAGES_ONLOAD).catch(e => false);\n        const fonts = await ObserveFontsLoading().catch(e => false);\n        const loaded = !!image && !!images && !!fonts;\n        return Promise[loaded ? 'resolve' : 'reject'](true);\n      }\n    },\n    guards: {\n      canPlayHomeVideo: ({ device, section: { current, next } }) =>\n        ['desktop', 'laptop'].indexOf(device) !== -1 &&\n        current === 'home' &&\n        next === null,\n      canMountHomeVideo: ({ section: { current, next } }) => current === 'home'\n      // && next === null\n    }\n  }\n);\n\nexport default appMachine;\n","import { interpret } from 'xstate';\nimport AppMachine from './App';\n\nexport { default as AppMachine } from './App';\nexport { default as ReleaseMachine } from './Release';\n\nclass MachineInterpret {\n  constructor() {\n    this._service = null;\n    this._started = false;\n\n    return this;\n  }\n\n  init(context, config) {\n    if (this._service !== null) throw new Error('Service already init');\n\n    this._service = interpret(\n      AppMachine.withContext(context).withConfig(config)\n    );\n\n    return this;\n  }\n\n  initialState() {\n    return AppMachine.initialState;\n  }\n\n  initialContext() {\n    return AppMachine.context;\n  }\n\n  get() {\n    if (this._service === null) throw new Error('No service init');\n\n    return this._service;\n  }\n\n  start() {\n    if (this._started) throw new Error('Service already started');\n\n    this.get().start();\n\n    this._started = true;\n  }\n\n  stop() {\n    if (!this._started) throw new Error('Service not started');\n\n    this.get().stop();\n\n    this._started = false;\n  }\n\n  send(o) {\n    return this.get().send(o);\n  }\n}\n\nconst Machine = new MachineInterpret();\n\nexport default Machine;\n","import { Machine, assign /*, send, sendParent, interpret*/ } from 'xstate';\nimport delay from 'delay';\nimport { RELEASE_IDLE_TIMEOUT } from 'Constants';\n\nconst getInitialContext = () => ({\n  release: undefined,\n  assets: null,\n  isLoaded: false,\n  isLeaving: false,\n  isCurrent: false,\n  isPrevious: false\n});\n\nconst ReleaseMachine = Machine(\n  {\n    id: 'Release',\n    initial: 'unknown',\n    context: getInitialContext(),\n    on: {\n      'RELEASE.NEXT': [\n        {\n          target: 'unmounted',\n          cond: (_, { context }) =>\n            !context.isCurrent && !context.isPrevious && !context.isLeaving\n        },\n        {\n          target: 'loading',\n          cond: (_, { context }) =>\n            context.isCurrent && (!_.isLoaded && !_.isCurrent)\n        },\n        {\n          target: 'entering',\n          cond: (_, { context }) =>\n            context.isCurrent && (_.isLoaded && !_.isCurrent)\n        },\n        {\n          target: 'mounted',\n          cond: (_, { context }) => context.isCurrent && _.isCurrent\n        },\n        {\n          target: 'leaving',\n          cond: (_, { context }) => !context.isCurrent && _.isCurrent\n        }\n      ]\n    },\n    states: {\n      unknown: {\n        on: {\n          '': [\n            { target: 'loading', cond: ctx => ctx.isCurrent && !ctx.isLoaded },\n            { target: 'entering', cond: ctx => ctx.isCurrent && ctx.isLoaded },\n            { target: 'unmounted' }\n          ]\n        }\n      },\n      unmounted: {\n        invoke: {\n          id: 'RELEASE.UNMOUNTED',\n          src: 'clearPrevious'\n        },\n        onExit: 'setContext'\n      },\n      loading: {\n        invoke: {\n          src: 'fetchAssets',\n          onDone: {\n            target: 'unknown',\n            actions: assign({ isLoaded: true })\n          },\n          onError: {\n            target: 'fatal'\n          }\n        }\n      },\n      fatal: {\n        type: 'final'\n      },\n      entering: {\n        onExit: 'setContext'\n      },\n      mounted: {\n        initial: 'pending',\n        states: {\n          pending: {\n            initial: 'init',\n            states: {\n              init: {\n                after: {\n                  [RELEASE_IDLE_TIMEOUT]: 'idle'\n                }\n              },\n              idle: {\n                on: {\n                  'RELEASE.PENDING': 'init'\n                }\n              }\n            },\n            on: {\n              'RELEASE.STORY': 'story'\n            },\n            activities: ['waitForAction']\n          },\n          story: {}\n        },\n        invoke: {\n          id: 'RELEASE.MOUNTED',\n          src: 'clearPrevious'\n        },\n        onExit: 'setContext'\n      },\n      leaving: {\n        initial: 'unknown',\n        states: {\n          unknown: {\n            on: {\n              '': [\n                { target: 'animate', cond: ctx => ctx.isLeaving },\n                { target: 'background' }\n              ]\n            }\n          },\n          animate: {},\n          background: {}\n        },\n        onExit: 'resetContext'\n      }\n    }\n  },\n  {\n    actions: {\n      setContext: assign((ctx, event) => ({ ...event.context })),\n      resetContext: assign(({ release, isLoaded, assets }) => ({\n        ...getInitialContext(),\n        release,\n        isLoaded,\n        assets\n      }))\n    },\n    services: {\n      fetchAssets: async context => {\n        if (context.assets === null) return Promise.resolve(true);\n\n        await delay(500);\n        return Promise.resolve(true);\n        // return Promise.reject(true)\n      }\n    }\n  }\n);\n\nexport default ReleaseMachine;\n","import React, { PureComponent } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport _get from 'lodash.get';\nimport { AppContext } from 'Contexts/App';\nimport Machine from 'Machines';\nimport { getComponentName } from 'Utils';\n\nconst withApp = (mapContextToProps = v => v) => WrappedComponent => {\n  class AppHoc extends PureComponent {\n    static contextType = AppContext;\n\n    //\n    // Helpers\n    // --------------------------------------------------\n\n    getStateByPath = path => _get(this.context.value, path);\n\n    getValue = () => this.context.value;\n\n    getStrings = () => this.context.toStrings();\n\n    getNextEvents = () => this.context.nextEvents;\n\n    getContext = () => this.context.context;\n\n    stateMatches = state => this.context.matches(state);\n\n    isReady = () => this.context.matches('ready');\n\n    hasVideoHeader = () =>\n      ['desktop', 'laptop'].indexOf(this.getDevice()) !== -1;\n\n    getDevice = () => this.getContext().device;\n\n    isDevice = device => this.getDevice() === device;\n\n    isDesktop = () => this.isDevice('desktop');\n\n    isTablet = () => this.isDevice('tablet');\n\n    isMobile = () => this.isDevice('mobild');\n\n    isLandscape = () => this.getContext().orientation === 'landscape';\n\n    bkgdCanPlay = () => {\n      const { current, previous, next } = this.getContext().section;\n      return (\n        this.hasVideoHeader() &&\n        current === 'home' &&\n        previous === null &&\n        next === null\n      );\n    };\n\n    getHelpers = () => ({\n      getStateByPath: this.getStateByPath,\n      getStrings: this.getStrings,\n      getValue: this.getValue,\n      getNextEvents: this.getNextEvents,\n      getContext: this.getContext,\n      stateMatches: this.stateMatches,\n      isReady: this.isReady,\n      hasVideoHeader: this.hasVideoHeader,\n      bkgdCanPlay: this.bkgdCanPlay,\n      isDesktop: this.isDesktop,\n      isTablet: this.isTablet,\n      isMobile: this.isMobile,\n      isLandscape: this.isLandscape\n    });\n\n    //\n    // Events Handlers\n    // --------------------------------------------------\n\n    hanleOnSend = evt => Machine.send(evt);\n\n    hanleOnNext = () => this.hanleOnSend('NEXT');\n\n    // Renderers\n    // --------------------------------------------------\n\n    render() {\n      const { props } = this;\n\n      return (\n        <WrappedComponent\n          {...mapContextToProps(this.context, props)}\n          {...props}\n          {...this.getHelpers()}\n          onNext={this.hanleOnNext}\n          onSend={this.hanleOnSend}\n        />\n      );\n    }\n  }\n\n  AppHoc.displayName = `withApp(${getComponentName(WrappedComponent)})`;\n\n  hoistStatics(AppHoc, WrappedComponent);\n\n  return AppHoc;\n};\n\nexport default withApp;\n","import React, { lazy, Suspense } from 'react';\nimport classNames from 'classnames';\n\nimport { Spinner } from 'Components';\nimport { withApp } from 'Hoc';\n// import ReleasesNav from './Nav';\nimport './index.scss';\n\nconst Album = lazy(() => import('./Album'));\nconst Split = lazy(() => import('./Split'));\nconst Ep = lazy(() => import('./Ep'));\n\n// https://codepen.io/2xsamurai/pen/WwmjKQ\nexport const ReleasesScrollInvite = ({ show }) => (\n  <div\n    className={classNames('release__scroll-invite', {\n      'release__scroll-invite--show': show\n    })}\n  >\n    <div className=\"release__scroll-invite__mouse\">\n      <div className=\"release__scroll-invite__scroller\" />\n    </div>\n  </div>\n);\n\nexport const ReleasesLoading = () => (\n  <div className=\"release__loading release__loading--show\">\n    <Spinner theme=\"white\" />\n  </div>\n);\n\nconst Releases = ({\n  isActive,\n  id: { next, current, previous },\n  scrollInvite\n}) => (\n  <div\n    className={classNames('layer releases', {\n      'layer--active': isActive,\n      [`releases--previous-${previous}`]: previous,\n      [`releases--current-${current}`]: current && isActive,\n      [`releases--next-${next}`]: next && isActive\n    })}\n  >\n    {/*<ReleasesNav />*/}\n    <ReleasesScrollInvite show={scrollInvite} />\n    <Suspense fallback={null}>\n      <Album />\n      <Split />\n      <Ep />\n    </Suspense>\n  </div>\n);\n\nconst mapContextToProps = context => ({\n  isActive: !context.matches('ready.releases.idle'),\n  scrollInvite: context.matches('ready.releases.mounted.pending.idle'),\n  id: context.context.id\n});\n\nexport default withApp(mapContextToProps)(Releases);\n","import React, { PureComponent } from 'react';\nimport hoistStatics from 'hoist-non-react-statics';\nimport _get from 'lodash.get';\nimport withApp from './App';\nimport { ReleasesLoading } from 'Sections/Releases';\nimport { getComponentName, ImgsPrefetch } from 'Utils';\n\n// const getStateFromProps = ({ state, story, isLeaving, isCurrent, isPrevious }) => ({\n//   state,\n//   story,\n// })\n\nconst getReleaseStage = value =>\n  typeof value === 'string' ? value : Object.keys(value)[0];\n\nconst withRelease = (WrappedComponent, { release, assets = null }) => {\n  class ReleaseHoc extends PureComponent {\n    state = {\n      assetsLoaded: assets === null,\n      assetsLoading: false\n    };\n\n    //\n    // Life cycle\n    // --------------------------------------------------\n\n    getSnapshotBeforeUpdate(prevProps, prevState) {\n      return prevProps.state === 'idle' && this.props.state !== 'idle';\n    }\n\n    componentDidMount() {\n      if (\n        this.props.state !== 'idle' &&\n        !this.state.assetsLoaded &&\n        !this.state.assetsLoading\n      )\n        this.handleOnLoadAssets();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n      if (snapshot && !this.state.assetsLoaded && !this.state.assetsLoading)\n        this.handleOnLoadAssets();\n    }\n\n    //\n    // Helpers\n    // --------------------------------------------------\n\n    _loadAssets = () => {\n      ImgsPrefetch(assets, true).then(() =>\n        this.setState({ assetsLoading: false, assetsLoaded: true })\n      );\n    };\n\n    //\n    // Events Handlers\n    // --------------------------------------------------\n\n    handleOnLoadAssets = () =>\n      this.setState({ assetsLoading: true }, () => this._loadAssets());\n\n    handleOnMounted = evt => () => this.props.onSend(evt);\n\n    handleOnNext = evt => () => {\n      if (this.props.stateMatches(`ready.releases.${evt}`)) this.props.onNext();\n    };\n\n    //\n    // Renderers\n    // --------------------------------------------------\n\n    render() {\n      const { state, story } = this.props;\n\n      if (state === 'idle') return null;\n\n      if (!this.state.assetsLoaded) return <ReleasesLoading />;\n\n      return (\n        <div className={`release release--${release}`}>\n          <WrappedComponent\n            state={state}\n            story={story}\n            onNext={this.handleOnNext}\n            onMounted={this.handleOnMounted}\n          />\n        </div>\n      );\n    }\n  }\n\n  ReleaseHoc.displayName = `withRelease(${getComponentName(WrappedComponent)})`;\n\n  hoistStatics(ReleaseHoc, WrappedComponent);\n\n  const idleResponse = () => ({\n    state: 'idle',\n    story: false\n  });\n\n  return withApp(context => {\n    if (context.matches('ready.releases.idle')) return idleResponse();\n\n    const {\n      section: { previous },\n      id: { previous: previousId, current: currentId }\n    } = context.context;\n\n    const isCurrent = currentId === release;\n    const isPrevious = previousId === release;\n    const isLeaving = isPrevious && previous === 'releases';\n\n    if (!isPrevious && !isCurrent) return idleResponse();\n\n    if (isPrevious && !isLeaving)\n      return {\n        state: context.history\n          ? getReleaseStage(_get(context.history.value, 'ready.releases'))\n          : 'mounted',\n        story: context.history\n          ? context.history.matches('ready.releases.mounted.story')\n          : false\n      };\n\n    return {\n      state: getReleaseStage(_get(context.value, 'ready.releases')),\n      story: context.matches('ready.releases.mounted.story')\n    };\n  })(ReleaseHoc);\n};\n\nexport default withRelease;\n","export { default as withApp } from './App';\nexport { default as withRelease } from './Release';\n","import React, { PureComponent } from 'react';\nimport { getPhotoUrl, ImgTracker, ImgPrefetch } from 'Utils';\nimport './index.scss';\n\nexport default class Image extends PureComponent {\n  static defaultProps = {\n    extension: 'jpg',\n    className: ''\n  };\n\n  state = {\n    isLoaded: false\n  };\n\n  _imgRef = React.createRef();\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  componentDidMount() {\n    ImgTracker.observe(this._imgRef.current, this.handleOnVisible);\n  }\n\n  componentDidUpdate() {}\n\n  componentWillUnmount() {\n    if (this._imgRef.current && !this.state.isLoaded)\n      ImgTracker.unobserve(this._imgRef.current);\n  }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  _getImgPath = () => {\n    const { src, extension } = this.props;\n    const format = this.state.isLoaded ? 'md' : 'sm';\n    return getPhotoUrl(`${src}-${format}.${extension}`);\n  };\n\n  _getRest = () => {\n    const { className, extension, src, ...rest } = this.props;\n\n    return rest;\n  };\n\n  //\n  // Handlers\n  // --------------------------------------------------\n\n  handleOnVisible = () => {\n    ImgTracker.unobserve(this._imgRef.current);\n    ImgPrefetch(this._getImgPath('md'), true)\n      .then(r => this.setState({ isLoaded: true }))\n      .catch(e => console.log(e));\n  };\n\n  //\n  // Render\n  // --------------------------------------------------\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <img\n        ref={this._imgRef}\n        src={this._getImgPath()}\n        className={`figure__img figure__img--small  ${className}`}\n        alt=\"\"\n        {...this._getRest()}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport './index.scss';\n\nconst Spinner = ({ theme, className }) => {\n  let w = 44, // width & height\n    s = 4, // stroke\n    t = 2, // translate\n    r = 20, // circle radius\n    d = 'M35.816 7.757C32.158 3.037 26.434 0 20 0 8.954 0 0 8.954 0 20',\n    o = 0.3, // back color opacity\n    f, // front color\n    b; // back color\n\n  switch (theme) {\n    case 'white':\n      f = '#fff';\n      b = '#fff';\n      break;\n    default:\n    case 'dark':\n      f = '#ececec';\n      b = '#575757';\n      o = 1;\n  }\n\n  return (\n    <svg\n      className={classNames('c-spinner', className)}\n      width={w}\n      height={w}\n      viewBox={`0 0 ${w} ${w}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <g\n        transform={`translate(${t} ${t})`}\n        strokeWidth={s}\n        fill=\"none\"\n        fillRule=\"evenodd\"\n      >\n        <circle stroke={f} opacity={o} cx={r} cy={r} r={r} />\n        <path d={d} stroke={b} strokeLinecap=\"round\" />\n      </g>\n    </svg>\n  );\n};\n\nSpinner.defaultProps = {\n  theme: 'dark',\n  className: ''\n};\n\nexport default Spinner;\n","export { default as Image } from \"./Image\";\nexport { default as Spinner } from \"./Spinner\";\n","const envPublicUrl = process.env.PUBLIC_URL;\n\nexport const getStaticUrl = relativePath =>\n  `${envPublicUrl}/static/${relativePath}`;\n\nexport const getImageUrl = path => getStaticUrl(`images/${path}`);\nexport const getPhotoUrl = path => getStaticUrl(`photos/${path}`);\n","import throttle from 'lodash.throttle';\nimport { STORY_TRIGGER_EVENTS, STORY_TRIGGER_THROTTLE } from 'Constants';\n\nclass StoryTrigger {\n  constructor() {\n    this._eventsBound = false;\n    this._releaseId = null;\n    this._callback = null;\n\n    this._handleEvent = throttle(this._handleEvent, STORY_TRIGGER_THROTTLE);\n  }\n\n  _bindEvents = () => {\n    if (this._eventsBound) return;\n\n    STORY_TRIGGER_EVENTS.forEach(e => {\n      document.addEventListener(e, this._handleEvent, {\n        capture: true,\n        passive: true\n      });\n    });\n    this._eventsBound = true;\n  };\n\n  _unbindEvents = () => {\n    if (!this._eventsBound) return;\n\n    STORY_TRIGGER_EVENTS.forEach(e => {\n      document.removeEventListener(e, this._handleEvent, {\n        capture: true,\n        passive: true\n      });\n    });\n    this._eventsBound = false;\n  };\n\n  _handleEvent = () => {\n    if (this._releaseId === null) return;\n    this._callback(this._releaseId);\n    this.stop();\n  };\n\n  start(_releaseId, _callback) {\n    if (this._releaseId !== null) {\n      const msg =\n        this._releaseId === _releaseId\n          ? 'StoryTrigger already started'\n          : 'StoryTrigger binded to another release';\n      console.error(msg, this._releaseId, _releaseId);\n      return;\n    }\n\n    this._releaseId = _releaseId;\n    this._callback = _callback;\n  }\n\n  stop() {\n    this._releaseId = null;\n    this._callback = null;\n  }\n}\n\nconst inst = new StoryTrigger();\ninst._bindEvents();\n\nexport default inst;\n","// https://lesdieuxducode.com/blog/2018/7/charger-des-images-lors-du-scroll-avec-lintersectionobserver\n\nexport default class ImgTracker {\n  static observedImages = new Map();\n\n  static Observer =\n    'IntersectionObserver' in window\n      ? new IntersectionObserver(\n          entries => {\n            entries.forEach(entry => {\n              if (entry.intersectionRatio > 0) {\n                let elt = entry.target;\n                ImgTracker.observedImages.get(elt)();\n                ImgTracker.unobserve(elt);\n              }\n            });\n          },\n          {\n            rootMargin: '50px 50px',\n            threshold: 0.01\n          }\n        )\n      : null;\n\n  static observe(elt, callback) {\n    if (ImgTracker.Observer != null) {\n      ImgTracker.Observer.observe(elt);\n      ImgTracker.observedImages.set(elt, callback);\n    } else {\n      callback();\n    }\n  }\n\n  static unobserve(elt) {\n    if (ImgTracker.Observer != null) {\n      ImgTracker.observedImages.delete(elt);\n      ImgTracker.Observer.unobserve(elt);\n    }\n  }\n}\n","import { getStaticUrl } from './Paths';\n\nconst _LOADED_IMGS = new Map();\n\nexport const ImgPrefetch = (path, inStatic = false) =>\n  new Promise((resolve, reject) => {\n    if (_LOADED_IMGS.has(path)) return resolve(_LOADED_IMGS.get(path));\n\n    const image = new Image();\n\n    image.src = inStatic ? path : getStaticUrl(path);\n    image.onerror = () =>\n      reject(new Error(`could not load image: ${path} :: ${image.src}`));\n    image.onload = () => {\n      _LOADED_IMGS.set(path, image.src);\n      return resolve(image.src);\n    };\n  });\n\nexport const ImgsPrefetch = (paths, inStatic = false) =>\n  Promise.all(paths.map(p => ImgPrefetch(p, inStatic)));\n","import _get from 'lodash.get';\nimport { actions } from 'xstate';\n\nconst { log } = actions;\n\nexport const actionLog = (label = '') =>\n  log((context, event) => ({ context, event }), label);\n\n// const sendToTarget = send((ctx, event) => ({\n//   type: `SHOW.${ctx.section.current}`\n// }));\n\nexport const contextMatch = (obj, str) => {\n  const [path, value] = str.split(':');\n  return _get(obj, path) === value;\n};\n\nexport const doesCondMatches = (c1, c2) => (ctx, event) => {\n  return contextMatch(ctx, c1) && contextMatch(event, c2);\n};\n","import FontFaceObserver from 'fontfaceobserver';\nimport { APP_FONTS_LIST, APP_FONTS_TIMEOUT } from 'Constants';\n\nexport const ObserveFontsLoading = () => {\n  const observers = APP_FONTS_LIST.reduce((a, { name, weight }) => {\n    const font = new FontFaceObserver(name, { weight });\n    a.push(font.load(null, APP_FONTS_TIMEOUT));\n    return a;\n  }, []);\n\n  return Promise.all(observers);\n  // .then(() => {\n  //   console.log('fonts loaded')\n  //   return true\n  //  })\n  // .catch(err => {\n  //   console.warn('Some critical font are not available:', err);\n  //   return false\n  // });\n};\n","import { Globals, animated } from 'react-spring';\nimport { getStaticUrl } from './Paths';\n\nexport { default as StoryTrigger } from './StoryTrigger';\nexport { default as ImgTracker } from './ImgTracker';\nexport * from './ImgPrefetch';\nexport * from './Machines';\nexport * from './Fonts';\n\nexport const getComponentName = Component =>\n  Component.displayName || Component.name || 'Component';\n\nexport const AnimatedDiv = animated(Globals.defaultElement);\nexport const raf = cb => Globals.requestFrame(cb);\nexport const caf = cb => Globals.cancelFrame(cb);\n\nconst defaultRouteProps = { match: { params: { section: 'home', id: null } } };\n\nexport const getRouteParams = ({ match: { params } }) => params;\nexport const getRouteSection = (props = null) =>\n  getRouteParams(props || defaultRouteProps).section;\nexport const getRouteId = (props = null) =>\n  getRouteParams(props || defaultRouteProps).id;\n\nexport const getImageUrl = path => getStaticUrl(`images/${path}`);\nexport const getPhotoUrl = path => getStaticUrl(`photos/${path}`);\nexport const getVideoUrl = path => getStaticUrl(`videos/${path}`);\n\nexport const getViewport = () => {\n  const { width, height } = document.body.getBoundingClientRect();\n  return {\n    width,\n    height\n  };\n};\nexport const roundToEven = n => 2 * Math.round(n / 2);\n\nexport const getNavImgSrc = (section, item) => {\n  switch (section) {\n    case 'releases':\n      return getStaticUrl(`covers/${item}.jpg`);\n    case 'videos':\n      return getStaticUrl(`videos/${item}-md.jpg`);\n    // case 'shows': return getStaticUrl(`covers/${item}.jpg`)\n    default:\n    // do nothing\n  }\n};\n\n// https://github.com/MicheleBertoli/react-automata/blob/master/src/utils.js#L12\nexport const stringify = (state, path = []) => {\n  if (typeof state === 'string') {\n    return path.concat(state).join('.');\n  }\n\n  return Object.keys(state).reduce(\n    (prev, key) => prev.concat(stringify(state[key], path.concat(key))),\n    []\n  );\n};\n","module.exports = __webpack_public_path__ + \"static/media/home-bkgd.2eab98fd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/img_error.18614bf6.jpg\";","//\n// Break Points\n// --------------------------------------------------\n\nexport const MEDIA_QUERIES_LIST = [\n  {\n    match: '(min-width: 1281px)',\n    device: 'desktop',\n    orientation: null\n  },\n  {\n    match: '(max-width: 1280px) and (min-width: 1025px)',\n    device: 'laptop',\n    orientation: null\n  },\n  {\n    match: '(max-width: 1024px) and (min-width: 768px)',\n    device: 'tablet',\n    orientation: 'portrait'\n  },\n  {\n    match:\n      '(max-width: 1024px) and (min-width: 768px) and (orientation: landscape)',\n    device: 'tablet',\n    orientation: 'landscape'\n  },\n  {\n    match: '(max-width: 767px) and (min-width: 481px)',\n    device: 'mobile',\n    orientation: 'landscape'\n  },\n  {\n    match: '(max-width: 480px) and (min-width: 320px)',\n    device: 'mobile',\n    orientation: 'portrait'\n  }\n];\n\nexport const MEDIA_QUERIES_BY_MATCH = MEDIA_QUERIES_LIST.reduce(\n  (prev, { match, device, orientation }) => {\n    prev[match] = { device, orientation };\n    return prev;\n  },\n  {}\n);\n\n//\n// Break Points\n// --------------------------------------------------\n\nexport const SCROLLBAR_WIDTH = (function() {\n  var outer, outerStyle, scrollbarWidth;\n  if (!document) return 0;\n  outer = document.createElement('div');\n  outerStyle = outer.style;\n  outerStyle.position = 'absolute';\n  outerStyle.width = '100px';\n  outerStyle.height = '100px';\n  outerStyle.overflow = 'scroll';\n  outerStyle.top = '-9999px';\n  if (document.body !== null) document.body.appendChild(outer);\n  scrollbarWidth = outer.offsetWidth - outer.clientWidth;\n  if (document.body !== null) document.body.removeChild(outer);\n  return scrollbarWidth;\n})();\n\n//\n// Idle\n// --------------------------------------------------\n\nexport const RELEASE_IDLE_TIMEOUT = 1000 * 3;\nexport const STORY_TRIGGER_THROTTLE = 500;\nexport const STORY_TRIGGER_EVENTS = [\n  // 'mousemove',\n  'wheel',\n  'DOMMouseScroll',\n  'mouseWheel',\n  // 'mousedown',\n  'touchstart',\n  'touchmove',\n  'MSPointerDown',\n  'MSPointerMove'\n];\n\n//\n// RELEASES\n// --------------------------------------------------\n\nexport const RELEASES = {\n  album: {\n    title: 'Album'\n  },\n  split: {\n    title: 'Split w/ the Missing 23rd'\n  },\n  ep: {\n    title: 'Debut EP'\n  }\n};\nexport const RELEASES_ID = Object.keys(RELEASES);\nexport const RELEASES_COVERS = RELEASES_ID.map(id => `covers/${id}.jpg`);\n\n//\n// VIDEOS\n// --------------------------------------------------\n\nexport const VIDEOS = {\n  nevers: {\n    videoId: 'PhDboaR01zY',\n    title: 'Live at Nevers, FR',\n    description: 'Nov. 16 2007, Le café charbon'\n  },\n  rouge: {\n    videoId: 'Fj8WOeQamvw',\n    title: 'Rouge',\n    description: 'music video'\n  }\n};\n\nexport const VIDEOS_ID = Object.keys(VIDEOS);\nexport const VIDEOS_THUMBS = VIDEOS_ID.map(id => `videos/${id}-md.jpg`);\n\n//\n// App Loading\n// --------------------------------------------------\n\nexport const APP_FONTS_LIST = [\n  { name: 'Open Sans', weight: 400 },\n  { name: 'Open Sans', weight: 700 },\n  { name: 'Open Sans', weight: 800 },\n  // { name: 'Open_Sans', weight: 900 },\n  { name: 'Rubik', weight: 500 },\n  { name: 'IM Fell English' },\n  { name: 'Zilla Slab' }\n];\nexport const APP_FONTS_TIMEOUT = 5000;\nexport const APP_IMAGES_ONLOAD = RELEASES_COVERS.concat(VIDEOS_THUMBS);\n\nexport const HOME_BKGD_VIDEOID = 'Pdni_p27l_0';\n","import React from 'react';\n\nexport const getInitialContext = () => ({\n  playerState: 'pauseVideo',\n  playerReady: false,\n  videoId: null,\n  state: 'idle'\n});\n\nconst VideoContext = React.createContext(getInitialContext());\n\nexport const { Provider, Consumer } = VideoContext;\n\nexport default VideoContext;\n","import React, { PureComponent, Fragment } from 'react';\nimport { Spring, Keyframes, Trail, animated } from 'react-spring';\nimport { Link } from 'react-router-dom';\nimport { getNavImgSrc } from 'Utils';\nimport { withApp } from 'Hoc';\nimport { VIDEOS_ID, RELEASES_ID } from 'Constants';\n\nimport './index.scss';\n\nconst BlockquoteStart = ({ ready }) => {\n  const from = 'polygon(0% 0%, 0% 0%, -10% 100%, 0% 100%)';\n  const to = 'polygon(0% 0%, 110% 0%, 100% 100%, 0% 100%)';\n  return (\n    <Spring\n      native\n      immediate={!ready}\n      from={{ clipPath: from }}\n      to={{ clipPath: ready ? to : from }}\n    >\n      {style => (\n        <animated.blockquote\n          className=\"home__quote home__quote--start\"\n          style={style}\n        >\n          There 's nothing left\n          <br className=\"home__quote__br\" /> but a corpse\n        </animated.blockquote>\n      )}\n    </Spring>\n  );\n};\n\nconst BlockquoteEndContent = ({ ready }) => (\n  <Spring\n    native\n    immediate={!ready}\n    config={{ delay: 200 }}\n    from={{ y: -30, w: 0 }}\n    to={{ y: ready ? 0 : -30, w: ready ? 100 : 0 }}\n  >\n    {({ y, w }) => (\n      <Fragment>\n        <span className=\"home__quote--end__text\">\n          <animated.span\n            style={{ transform: y.interpolate(y => `translateY(${y}px)`) }}\n          >\n            A crash of\n          </animated.span>\n        </span>\n        <br />\n        <span className=\"home__quote--end__text\">\n          <animated.span\n            style={{ transform: y.interpolate(y => `translateY(${y}px)`) }}\n          >\n            flesh and bones\n          </animated.span>\n        </span>\n        <animated.span\n          className=\"home__quote--end__hr\"\n          style={{ width: w.interpolate(w => `${w}%`) }}\n        />\n      </Fragment>\n    )}\n  </Spring>\n);\n\nconst BlockquoteEnd = ({ ready, children }) => (\n  <Spring\n    native\n    immediate={!ready}\n    config={{ delay: 600 }}\n    from={{ t: 70 }}\n    to={{ t: ready ? 86 : 70 }}\n  >\n    {({ t }) => (\n      <animated.blockquote\n        className=\"home__quote home__quote--end\"\n        style={{ marginTop: t.interpolate(t => `-${t}px`) }}\n      >\n        {children}\n      </animated.blockquote>\n    )}\n  </Spring>\n);\n\nconst Title = ({ ready }) => (\n  <Spring\n    native\n    immediate={!ready}\n    config={{ delay: 400 }}\n    from={{ h: 0, o: 0, t: 0 }}\n    to={{ h: ready ? 305 : 0, o: ready ? 1 : 0, t: ready ? 0 : 200 }}\n  >\n    {({ h, o, t }) => (\n      <animated.div\n        className=\"home__title\"\n        style={{ height: h.interpolate(h => `${h}px`) }}\n      >\n        <animated.h1\n          className=\"home__title__primary\"\n          style={{ opacity: o.interpolate(o => o) }}\n        >\n          m-sixteen\n        </animated.h1>\n        <h2 className=\"home__title__sub\">\n          <animated.span\n            style={{ transform: t.interpolate(t => `translateY(${t}%)`) }}\n          >\n            paris punk rock, 2000-2010\n          </animated.span>\n        </h2>\n      </animated.div>\n    )}\n  </Spring>\n);\n\nconst _abstractDefaultProps = { w: 0, t: -100 };\nconst AbstractKf = Keyframes.Spring({\n  idle: {\n    immediate: true,\n    from: _abstractDefaultProps,\n    to: _abstractDefaultProps\n  },\n  mounted: { delay: 800, w: 100, t: 0, from: _abstractDefaultProps }\n});\n\nconst Abstract = ({ state }) => (\n  <AbstractKf\n    native\n    state={state}\n    // config={{ mass: 5, tension: 2000, friction: 200 }}\n  >\n    {({ w, t }) => (\n      <div className=\"home__abstract\">\n        <div className=\"home__abstract__drawer\">\n          <animated.p\n            className=\"home__abstract__txt\"\n            style={{ transform: t.interpolate(t => `translateY(${t}%)`) }}\n          >\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent\n            condimentum bibendum rhoncus. Duis viverra tempus felis.\n          </animated.p>\n        </div>\n        <animated.hr\n          className=\"home__abstract__hr\"\n          style={{ width: w.interpolate(w => `${w}%`) }}\n        />\n      </div>\n    )}\n  </AbstractKf>\n);\n\nconst HomeNav = ({ ready, items, from, section, onRest = () => null }) => {\n  return (\n    <Spring\n      native\n      immediate={!ready}\n      config={{ delay: 1000 }}\n      from={{ t: from }}\n      to={{ t: ready ? 0 : from }}\n      onRest={onRest}\n    >\n      {({ t }) => (\n        <animated.ul\n          className={`home__nav home__nav--${section}`}\n          style={{ transform: t.interpolate(t => `translateX(${t}%)`) }}\n        >\n          <Trail\n            items={items}\n            config={{ delay: 1200 }}\n            from={{ opacity: 0 }}\n            to={{ opacity: ready ? 1 : 0 }}\n          >\n            {item => styles => {\n              // console.log(item)\n              return (\n                <animated.li className=\"home__nav__item\" style={styles}>\n                  <Link to={`/${section}/${item}`}>\n                    <img\n                      src={getNavImgSrc(section, item)}\n                      className=\"home__nav__thumb\"\n                      alt=\"\"\n                    />\n                  </Link>\n                </animated.li>\n              );\n            }}\n          </Trail>\n        </animated.ul>\n      )}\n    </Spring>\n  );\n};\n\nconst _homeProps = { s: 1, o: 1, t: 0 };\nconst _releasesProps = { s: 0.95, o: 0, t: 0 };\nconst _videosProps = { s: 1, o: 0, t: 5 };\nconst _defaultProps = { immediate: true, from: _homeProps, to: _homeProps };\n\nconst HomeSpring = Keyframes.Spring({\n  entering: _defaultProps,\n  releases_in: { from: _homeProps, to: _releasesProps },\n  releases_out: { to: _homeProps, from: _releasesProps },\n  videos_in: { from: _homeProps, to: _videosProps },\n  videos_out: { to: _homeProps, from: _videosProps }\n});\n\nclass Home extends PureComponent {\n  state = {\n    navState: 'idle',\n    state: this.props.state,\n    mounted: false\n  };\n\n  _ref = React.createRef();\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { state } = nextProps;\n\n    if (!prevState.mounted && state === 'mounted')\n      return {\n        navState: 'mounted',\n        mounted: true,\n        state\n      };\n\n    if (state !== prevState.state)\n      return {\n        state\n      };\n\n    return null;\n  }\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  // componentDidMount() {\n  //   console.log('HERO componentDidMount', this.state.state)\n  // }\n\n  // componentDidUpdate() {\n  //   console.log('HERO componentDidUpdate', this.state.state)\n  // }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  //\n  // Events Handlers\n  // --------------------------------------------------\n\n  handleOnRest = () => {\n    this.props.onNext();\n  };\n\n  //\n  // Renderers\n  // --------------------------------------------------\n\n  render() {\n    const { state, mounted: ready, navState } = this.state;\n\n    if (state === 'idle') return null;\n\n    return (\n      <Fragment>\n        <HomeSpring native state={state} onRest={this.handleOnRest}>\n          {({ s, o, t }) => (\n            <animated.header\n              className=\"home\"\n              ref={this._ref}\n              tabIndex=\"-1\"\n              style={{ transform: t.interpolate(t => `translateY(-${t}%)`) }}\n            >\n              <animated.div\n                className=\"home__wrapper\"\n                style={{\n                  opacity: o.interpolate(o => o),\n                  transform: s.interpolate(s => `rotate(-45deg) scale(${s})`)\n                }}\n              >\n                <BlockquoteStart ready={ready} />\n                <Title ready={ready} />\n                <BlockquoteEnd ready={ready}>\n                  <BlockquoteEndContent ready={ready} />\n                </BlockquoteEnd>\n                <div className=\"home__menu\">\n                  <Abstract state={navState} />\n                  <HomeNav\n                    ready={ready}\n                    items={RELEASES_ID}\n                    from={50}\n                    section=\"releases\"\n                  />\n                  <HomeNav\n                    ready={ready}\n                    items={VIDEOS_ID}\n                    from={-50}\n                    section=\"videos\"\n                    onRest={this.props.onNext}\n                  />\n                </div>\n              </animated.div>\n            </animated.header>\n          )}\n        </HomeSpring>\n        {/*<button onClick={this.props.onNext} style={{ position: 'absolute', zIndex: 5000}}>\n          NEXT\n        </button>*/}\n      </Fragment>\n    );\n  }\n}\n\nconst mapAppContextToProps = context => ({\n  state: context.value.ready.home.hero\n});\n\nexport default withApp(mapAppContextToProps)(Home);\n","import React, { PureComponent } from 'react';\nimport classNames from 'classnames';\nimport YouTube from 'react-youtube';\nimport { withApp } from 'Hoc';\nimport { HOME_BKGD_VIDEOID } from 'Constants';\n\nimport './index.scss';\n\nconst getInitialState = ({ state }) => {\n  const showPlayer = ['idle', 'mounted'].indexOf(state) === -1;\n\n  return {\n    playerState: showPlayer ? state : null,\n    showPlayer\n  };\n};\n\nclass HomeBkgd extends PureComponent {\n  state = getInitialState(this.props);\n\n  _player = null;\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    const { showPlayer, playerState } = getInitialState(nextProps);\n\n    if (\n      showPlayer !== prevState.showPlayer ||\n      playerState !== prevState.playerState\n    )\n      return {\n        playerState,\n        showPlayer\n      };\n\n    return null;\n  }\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    return prevState.playerState !== this.state.playerState;\n  }\n\n  componentDidMount() {\n    this._shouldForceOnReady();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (snapshot === true) return this._togglePlayer();\n\n    this._shouldForceOnReady();\n  }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  _shouldForceOnReady() {\n    if (this.props.state === 'mounted' && this._hasNext()) {\n      this.props.onSend('HERO.NEXT');\n    }\n  }\n\n  _togglePlayer() {\n    const { playerState } = this.state;\n\n    if (!this._player || !playerState) return;\n\n    try {\n      this._player[playerState]();\n    } catch (e) {\n      // console.log(e)\n    }\n  }\n\n  _hasNext = () => this.props.getNextEvents().indexOf('HERO.NEXT') !== -1;\n\n  //\n  // Events Handlers\n  // --------------------------------------------------\n\n  handleOnEnd = e => {\n    e.target.playVideo();\n  };\n\n  handleOnReady = ({ target }) => {\n    target.mute();\n    this._player = target;\n  };\n\n  handleOnPlay = ({ target }) => {\n    this._player = target;\n\n    if (this.state.playerState !== 'playVideo') this._player.pauseVideo();\n\n    if (this._hasNext()) {\n      this.props.onSend('HERO.NEXT');\n    }\n  };\n\n  //\n  // Renderers\n  // --------------------------------------------------\n\n  playerRenderer() {\n    const { showPlayer } = this.state;\n\n    if (!showPlayer) {\n      this._player = null;\n      return null;\n    }\n\n    // https://codebushi.com/react-youtube-background/\n    // https://developers.google.com/youtube/player_parameters\n    const videoOptions = {\n      playerVars: {\n        autoplay: 1, // Auto-play the video on load\n        disablekb: 1,\n        controls: 0, // Hide pause/play buttons in player\n        showinfo: 0, // Hide the video title\n        modestbranding: 1, // Hide the Youtube Logo\n        loop: 1, // Run the video in a loop\n        fs: 0, // Hide the full screen button\n        autohide: 0, // Hide video controls when playing\n        rel: 0,\n        enablejsapi: 1\n      }\n    };\n\n    return (\n      <YouTube\n        videoId={HOME_BKGD_VIDEOID}\n        opts={videoOptions}\n        className=\"home-video__background__foreground__iframe\"\n        // onStateChange={this.handleOnStateChange('onStateChange')}\n        // onPlaybackRateChange={this.handleOnStateChange('onPlaybackRateChange')}\n        // onPlaybackQualityChange={this.handleOnStateChange('onPlaybackQualityChange')}\n        onPlay={this.handleOnPlay}\n        // onError={this.handleOnStateChange('onError')}\n        onReady={this.handleOnReady}\n        onEnd={this.handleOnEnd}\n      />\n    );\n  }\n\n  render() {\n    if (this.props.state === 'idle') return null;\n\n    const { showPlayer, playerState } = this.state;\n\n    const className = classNames('home-video', {\n      'home-video--mobile': !showPlayer,\n      'home-video--paused': playerState === 'pauseVideo'\n    });\n\n    return (\n      <div className={className}>\n        <div className=\"home-video__background\">{this.playerRenderer()}</div>\n      </div>\n    );\n  }\n}\n\nconst mapAppContextToProps = context => ({\n  state: context.value.ready.home.bkgd\n});\n\nexport default withApp(mapAppContextToProps)(HomeBkgd);\n","import React, { Fragment } from 'react';\nimport Hero from './Hero';\nimport Bkgd from './Bkgd';\n\nconst Home = () => (\n  <Fragment>\n    <Hero />\n    <div className=\"home-bkgd\" />\n    <Bkgd />\n  </Fragment>\n);\n\nexport default Home;\n","import React, { PureComponent, Fragment } from 'react';\nimport { AppContext } from 'Contexts/App';\nimport Home from 'Sections/Home';\n// import Releases, { ReleasesLoading } from 'Sections/Releases';\n// import Videos from 'Sections/Videos';\n// import Shows from 'Sections/Shows';\nimport ImgErr from './img_error.jpg';\n\nconst _DEBUG = true;\n\nexport default class Layout extends PureComponent {\n  state = { hasError: false };\n\n  static contextType = AppContext;\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n\n  //\n  // Life cycle\n  // --------------------------------------------------\n\n  componentDidCatch(error, info) {\n    console.log(info.componentStack);\n  }\n\n  //\n  // Helpers\n  // --------------------------------------------------\n\n  _hasErrorBoundary = () =>\n    this.state.hasError || this.context.matches('fatal');\n\n  //\n  // Events Handlers\n  // --------------------------------------------------\n\n  //\n  // Renderers\n  // --------------------------------------------------\n\n  miniDebugRenderer() {\n    if (!_DEBUG) return null;\n\n    return (\n      <div className=\"mini-debug\">\n        <pre>{JSON.stringify(this.context.value, null, 2)}</pre>\n        <pre>{JSON.stringify(this.context.toStrings(), null, 2)}</pre>\n        <pre>{JSON.stringify(this.context.context, null, 2)}</pre>\n        <pre>{JSON.stringify(this.context.nextEvents, null, 2)}</pre>\n      </div>\n    );\n  }\n\n  errorBoundaryRenderer() {\n    return (\n      <div className=\"error-boundary\">\n        <div>\n          <img src={ImgErr} alt=\"\" />\n          <h1>Whoops, something went wrong.</h1>\n          <a href={process.env.PUBLIC_URL}>Reload the page</a>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    if (this._hasErrorBoundary()) return this.errorBoundaryRenderer();\n\n    if (!this.context.matches('ready')) return null //<ReleasesLoading />;\n\n    return (\n      <Fragment>\n        <Home />\n        {/*<Releases />\n        <Videos />\n        <Shows />*/}\n        {this.miniDebugRenderer()}\n      </Fragment>\n    );\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { AppContext } from 'Contexts';\nimport Layout from 'Layout';\n// import Layout from 'Layout/Debug'\nimport registerServiceWorker from 'registerServiceWorker';\n\nimport 'Scss/index.scss';\n\nconst MainRoute = () => (\n  <AppContext>\n    <Layout />\n  </AppContext>\n);\n\nconst App = () => (\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Route path=\"/:section?/:id?\" component={MainRoute} />\n  </BrowserRouter>\n);\n\nReactDOM.render(<App />, document.getElementById('app-root'));\n\nregisterServiceWorker();\n"],"sourceRoot":""}